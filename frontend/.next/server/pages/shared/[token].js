/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/shared/[token]";
exports.ids = ["pages/shared/[token]"];
exports.modules = {

/***/ "./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2Fshared%2F%5Btoken%5D&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Cshared%5C%5Btoken%5D.js&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2Fshared%2F%5Btoken%5D&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Cshared%5C%5Btoken%5D.js&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   getServerSideProps: () => (/* binding */ getServerSideProps),\n/* harmony export */   getStaticPaths: () => (/* binding */ getStaticPaths),\n/* harmony export */   getStaticProps: () => (/* binding */ getStaticProps),\n/* harmony export */   reportWebVitals: () => (/* binding */ reportWebVitals),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   unstable_getServerProps: () => (/* binding */ unstable_getServerProps),\n/* harmony export */   unstable_getServerSideProps: () => (/* binding */ unstable_getServerSideProps),\n/* harmony export */   unstable_getStaticParams: () => (/* binding */ unstable_getStaticParams),\n/* harmony export */   unstable_getStaticPaths: () => (/* binding */ unstable_getStaticPaths),\n/* harmony export */   unstable_getStaticProps: () => (/* binding */ unstable_getStaticProps)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages/module.compiled */ \"./node_modules/next/dist/server/future/route-modules/pages/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var private_next_pages_document__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! private-next-pages/_document */ \"./node_modules/next/dist/pages/_document.js\");\n/* harmony import */ var private_next_pages_document__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(private_next_pages_document__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! private-next-pages/_app */ \"./src/pages/_app.js\");\n/* harmony import */ var _src_pages_shared_token_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./src\\pages\\shared\\[token].js */ \"./src/pages/shared/[token].js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__]);\nprivate_next_pages_app__WEBPACK_IMPORTED_MODULE_4__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the app and document modules.\n\n\n// Import the userland code.\n\n// Re-export the component (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_shared_token_js__WEBPACK_IMPORTED_MODULE_5__, \"default\"));\n// Re-export methods.\nconst getStaticProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_shared_token_js__WEBPACK_IMPORTED_MODULE_5__, \"getStaticProps\");\nconst getStaticPaths = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_shared_token_js__WEBPACK_IMPORTED_MODULE_5__, \"getStaticPaths\");\nconst getServerSideProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_shared_token_js__WEBPACK_IMPORTED_MODULE_5__, \"getServerSideProps\");\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_shared_token_js__WEBPACK_IMPORTED_MODULE_5__, \"config\");\nconst reportWebVitals = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_shared_token_js__WEBPACK_IMPORTED_MODULE_5__, \"reportWebVitals\");\n// Re-export legacy methods.\nconst unstable_getStaticProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_shared_token_js__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getStaticProps\");\nconst unstable_getStaticPaths = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_shared_token_js__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getStaticPaths\");\nconst unstable_getStaticParams = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_shared_token_js__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getStaticParams\");\nconst unstable_getServerProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_shared_token_js__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getServerProps\");\nconst unstable_getServerSideProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_shared_token_js__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getServerSideProps\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES,\n        page: \"/shared/[token]\",\n        pathname: \"/shared/[token]\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    components: {\n        App: private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n        Document: (private_next_pages_document__WEBPACK_IMPORTED_MODULE_3___default())\n    },\n    userland: _src_pages_shared_token_js__WEBPACK_IMPORTED_MODULE_5__\n});\n\n//# sourceMappingURL=pages.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTJnBhZ2U9JTJGc2hhcmVkJTJGJTVCdG9rZW4lNUQmcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZzcmMlNUNwYWdlcyU1Q3NoYXJlZCU1QyU1QnRva2VuJTVELmpzJmFic29sdXRlQXBwUGF0aD1wcml2YXRlLW5leHQtcGFnZXMlMkZfYXBwJmFic29sdXRlRG9jdW1lbnRQYXRoPXByaXZhdGUtbmV4dC1wYWdlcyUyRl9kb2N1bWVudCZtaWRkbGV3YXJlQ29uZmlnQmFzZTY0PWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBK0Y7QUFDaEM7QUFDTDtBQUMxRDtBQUNvRDtBQUNWO0FBQzFDO0FBQzZEO0FBQzdEO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQyx1REFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyx1QkFBdUIsd0VBQUssQ0FBQyx1REFBUTtBQUNyQyx1QkFBdUIsd0VBQUssQ0FBQyx1REFBUTtBQUNyQywyQkFBMkIsd0VBQUssQ0FBQyx1REFBUTtBQUN6QyxlQUFlLHdFQUFLLENBQUMsdURBQVE7QUFDN0Isd0JBQXdCLHdFQUFLLENBQUMsdURBQVE7QUFDN0M7QUFDTyxnQ0FBZ0Msd0VBQUssQ0FBQyx1REFBUTtBQUM5QyxnQ0FBZ0Msd0VBQUssQ0FBQyx1REFBUTtBQUM5QyxpQ0FBaUMsd0VBQUssQ0FBQyx1REFBUTtBQUMvQyxnQ0FBZ0Msd0VBQUssQ0FBQyx1REFBUTtBQUM5QyxvQ0FBb0Msd0VBQUssQ0FBQyx1REFBUTtBQUN6RDtBQUNPLHdCQUF3Qix5R0FBZ0I7QUFDL0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxXQUFXO0FBQ1gsZ0JBQWdCO0FBQ2hCLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCxpQyIsInNvdXJjZXMiOlsid2VicGFjazovL3NlY3VyZS1maWxlLXNoYXJpbmctZnJvbnRlbmQvP2Y2OWQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL3BhZ2VzL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSBhcHAgYW5kIGRvY3VtZW50IG1vZHVsZXMuXG5pbXBvcnQgRG9jdW1lbnQgZnJvbSBcInByaXZhdGUtbmV4dC1wYWdlcy9fZG9jdW1lbnRcIjtcbmltcG9ydCBBcHAgZnJvbSBcInByaXZhdGUtbmV4dC1wYWdlcy9fYXBwXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiLi9zcmNcXFxccGFnZXNcXFxcc2hhcmVkXFxcXFt0b2tlbl0uanNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgY29tcG9uZW50IChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCBcImRlZmF1bHRcIik7XG4vLyBSZS1leHBvcnQgbWV0aG9kcy5cbmV4cG9ydCBjb25zdCBnZXRTdGF0aWNQcm9wcyA9IGhvaXN0KHVzZXJsYW5kLCBcImdldFN0YXRpY1Byb3BzXCIpO1xuZXhwb3J0IGNvbnN0IGdldFN0YXRpY1BhdGhzID0gaG9pc3QodXNlcmxhbmQsIFwiZ2V0U3RhdGljUGF0aHNcIik7XG5leHBvcnQgY29uc3QgZ2V0U2VydmVyU2lkZVByb3BzID0gaG9pc3QodXNlcmxhbmQsIFwiZ2V0U2VydmVyU2lkZVByb3BzXCIpO1xuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCBcImNvbmZpZ1wiKTtcbmV4cG9ydCBjb25zdCByZXBvcnRXZWJWaXRhbHMgPSBob2lzdCh1c2VybGFuZCwgXCJyZXBvcnRXZWJWaXRhbHNcIik7XG4vLyBSZS1leHBvcnQgbGVnYWN5IG1ldGhvZHMuXG5leHBvcnQgY29uc3QgdW5zdGFibGVfZ2V0U3RhdGljUHJvcHMgPSBob2lzdCh1c2VybGFuZCwgXCJ1bnN0YWJsZV9nZXRTdGF0aWNQcm9wc1wiKTtcbmV4cG9ydCBjb25zdCB1bnN0YWJsZV9nZXRTdGF0aWNQYXRocyA9IGhvaXN0KHVzZXJsYW5kLCBcInVuc3RhYmxlX2dldFN0YXRpY1BhdGhzXCIpO1xuZXhwb3J0IGNvbnN0IHVuc3RhYmxlX2dldFN0YXRpY1BhcmFtcyA9IGhvaXN0KHVzZXJsYW5kLCBcInVuc3RhYmxlX2dldFN0YXRpY1BhcmFtc1wiKTtcbmV4cG9ydCBjb25zdCB1bnN0YWJsZV9nZXRTZXJ2ZXJQcm9wcyA9IGhvaXN0KHVzZXJsYW5kLCBcInVuc3RhYmxlX2dldFNlcnZlclByb3BzXCIpO1xuZXhwb3J0IGNvbnN0IHVuc3RhYmxlX2dldFNlcnZlclNpZGVQcm9wcyA9IGhvaXN0KHVzZXJsYW5kLCBcInVuc3RhYmxlX2dldFNlcnZlclNpZGVQcm9wc1wiKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTLFxuICAgICAgICBwYWdlOiBcIi9zaGFyZWQvW3Rva2VuXVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvc2hhcmVkL1t0b2tlbl1cIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIlxuICAgIH0sXG4gICAgY29tcG9uZW50czoge1xuICAgICAgICBBcHAsXG4gICAgICAgIERvY3VtZW50XG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2Fshared%2F%5Btoken%5D&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Cshared%5C%5Btoken%5D.js&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "./src/pages/_app.js":
/*!***************************!*\
  !*** ./src/pages/_app.js ***!
  \***************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_toastify__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-toastify */ \"react-toastify\");\n/* harmony import */ var firebase_app__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! firebase/app */ \"firebase/app\");\n/* harmony import */ var firebase_auth__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! firebase/auth */ \"firebase/auth\");\n/* harmony import */ var react_toastify_dist_ReactToastify_css__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-toastify/dist/ReactToastify.css */ \"./node_modules/react-toastify/dist/ReactToastify.css\");\n/* harmony import */ var react_toastify_dist_ReactToastify_css__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react_toastify_dist_ReactToastify_css__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _styles_globals_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../styles/globals.css */ \"./src/styles/globals.css\");\n/* harmony import */ var _styles_globals_css__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_styles_globals_css__WEBPACK_IMPORTED_MODULE_6__);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([react_toastify__WEBPACK_IMPORTED_MODULE_2__, firebase_app__WEBPACK_IMPORTED_MODULE_3__, firebase_auth__WEBPACK_IMPORTED_MODULE_4__]);\n([react_toastify__WEBPACK_IMPORTED_MODULE_2__, firebase_app__WEBPACK_IMPORTED_MODULE_3__, firebase_auth__WEBPACK_IMPORTED_MODULE_4__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\n\n\n// Firebase configuration\nconst firebaseConfig = {\n    apiKey: \"AIzaSyDgbDTS947w4lhp4c3ROoJT3MniG1pe7w0\",\n    authDomain: \"fileshare-14c20.firebaseapp.com\",\n    projectId: \"fileshare-14c20\",\n    storageBucket: \"fileshare-14c20.firebasestorage.app\",\n    messagingSenderId: \"647850635302\",\n    appId: \"1:647850635302:web:9d52818ba50e6a74b136e7\",\n    measurementId: \"G-XJNWX2FEYC\"\n};\n// Initialize Firebase\nconst app = (0,firebase_app__WEBPACK_IMPORTED_MODULE_3__.initializeApp)(firebaseConfig);\nconst auth = (0,firebase_auth__WEBPACK_IMPORTED_MODULE_4__.getAuth)(app);\nfunction MyApp({ Component, pageProps }) {\n    const [user, setUser] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const unsubscribe = (0,firebase_auth__WEBPACK_IMPORTED_MODULE_4__.onAuthStateChanged)(auth, (user)=>{\n            setUser(user);\n            setLoading(false);\n        });\n        return ()=>unsubscribe();\n    }, []);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Component, {\n                ...pageProps,\n                user: user,\n                loading: loading\n            }, void 0, false, {\n                fileName: \"E:\\\\GitHub\\\\Scoial media platform\\\\Secure-file-sharing-application\\\\frontend\\\\src\\\\pages\\\\_app.js\",\n                lineNumber: 38,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_toastify__WEBPACK_IMPORTED_MODULE_2__.ToastContainer, {\n                position: \"bottom-right\"\n            }, void 0, false, {\n                fileName: \"E:\\\\GitHub\\\\Scoial media platform\\\\Secure-file-sharing-application\\\\frontend\\\\src\\\\pages\\\\_app.js\",\n                lineNumber: 39,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true);\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MyApp);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFnZXMvX2FwcC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQTRDO0FBQ0k7QUFDSDtBQUNlO0FBQ2I7QUFDaEI7QUFFL0IseUJBQXlCO0FBQ3pCLE1BQU1NLGlCQUFpQjtJQUNyQkMsUUFBUUMseUNBQXdDO0lBQ2hERyxZQUFZSCxpQ0FBNEM7SUFDeERLLFdBQVdMLGlCQUEyQztJQUN0RE8sZUFBZVAscUNBQStDO0lBQzlEUyxtQkFBbUJULGNBQW9EO0lBQ3ZFVyxPQUFPWCwyQ0FBdUM7SUFDOUNhLGVBQWViLGNBQStDO0FBQ2hFO0FBRUEsc0JBQXNCO0FBQ3RCLE1BQU1lLE1BQU1wQiwyREFBYUEsQ0FBQ0c7QUFDMUIsTUFBTWtCLE9BQU9wQixzREFBT0EsQ0FBQ21CO0FBRXJCLFNBQVNFLE1BQU0sRUFBRUMsU0FBUyxFQUFFQyxTQUFTLEVBQUU7SUFDckMsTUFBTSxDQUFDQyxNQUFNQyxRQUFRLEdBQUc1QiwrQ0FBUUEsQ0FBQztJQUNqQyxNQUFNLENBQUM2QixTQUFTQyxXQUFXLEdBQUc5QiwrQ0FBUUEsQ0FBQztJQUV2Q0QsZ0RBQVNBLENBQUM7UUFDUixNQUFNZ0MsY0FBYzNCLGlFQUFrQkEsQ0FBQ21CLE1BQU0sQ0FBQ0k7WUFDNUNDLFFBQVFEO1lBQ1JHLFdBQVc7UUFDYjtRQUVBLE9BQU8sSUFBTUM7SUFDZixHQUFHLEVBQUU7SUFFTCxxQkFDRTs7MEJBQ0UsOERBQUNOO2dCQUFXLEdBQUdDLFNBQVM7Z0JBQUVDLE1BQU1BO2dCQUFNRSxTQUFTQTs7Ozs7OzBCQUMvQyw4REFBQzVCLDBEQUFjQTtnQkFBQytCLFVBQVM7Ozs7Ozs7O0FBRy9CO0FBRUEsaUVBQWVSLEtBQUtBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zZWN1cmUtZmlsZS1zaGFyaW5nLWZyb250ZW5kLy4vc3JjL3BhZ2VzL19hcHAuanM/OGZkYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgVG9hc3RDb250YWluZXIgfSBmcm9tICdyZWFjdC10b2FzdGlmeSc7XG5pbXBvcnQgeyBpbml0aWFsaXplQXBwIH0gZnJvbSAnZmlyZWJhc2UvYXBwJztcbmltcG9ydCB7IGdldEF1dGgsIG9uQXV0aFN0YXRlQ2hhbmdlZCB9IGZyb20gJ2ZpcmViYXNlL2F1dGgnO1xuaW1wb3J0ICdyZWFjdC10b2FzdGlmeS9kaXN0L1JlYWN0VG9hc3RpZnkuY3NzJztcbmltcG9ydCAnLi4vc3R5bGVzL2dsb2JhbHMuY3NzJztcblxuLy8gRmlyZWJhc2UgY29uZmlndXJhdGlvblxuY29uc3QgZmlyZWJhc2VDb25maWcgPSB7XG4gIGFwaUtleTogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfRklSRUJBU0VfQVBJX0tFWSxcbiAgYXV0aERvbWFpbjogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfRklSRUJBU0VfQVVUSF9ET01BSU4sXG4gIHByb2plY3RJZDogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfRklSRUJBU0VfUFJPSkVDVF9JRCxcbiAgc3RvcmFnZUJ1Y2tldDogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfRklSRUJBU0VfU1RPUkFHRV9CVUNLRVQsXG4gIG1lc3NhZ2luZ1NlbmRlcklkOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19GSVJFQkFTRV9NRVNTQUdJTkdfU0VOREVSX0lELFxuICBhcHBJZDogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfRklSRUJBU0VfQVBQX0lELFxuICBtZWFzdXJlbWVudElkOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19GSVJFQkFTRV9NRUFTVVJFTUVOVF9JRFxufTtcblxuLy8gSW5pdGlhbGl6ZSBGaXJlYmFzZVxuY29uc3QgYXBwID0gaW5pdGlhbGl6ZUFwcChmaXJlYmFzZUNvbmZpZyk7XG5jb25zdCBhdXRoID0gZ2V0QXV0aChhcHApO1xuXG5mdW5jdGlvbiBNeUFwcCh7IENvbXBvbmVudCwgcGFnZVByb3BzIH0pIHtcbiAgY29uc3QgW3VzZXIsIHNldFVzZXJdID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgdW5zdWJzY3JpYmUgPSBvbkF1dGhTdGF0ZUNoYW5nZWQoYXV0aCwgKHVzZXIpID0+IHtcbiAgICAgIHNldFVzZXIodXNlcik7XG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICB9KTtcblxuICAgIHJldHVybiAoKSA9PiB1bnN1YnNjcmliZSgpO1xuICB9LCBbXSk7XG5cbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAgPENvbXBvbmVudCB7Li4ucGFnZVByb3BzfSB1c2VyPXt1c2VyfSBsb2FkaW5nPXtsb2FkaW5nfSAvPlxuICAgICAgPFRvYXN0Q29udGFpbmVyIHBvc2l0aW9uPVwiYm90dG9tLXJpZ2h0XCIgLz5cbiAgICA8Lz5cbiAgKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgTXlBcHA7Il0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZVN0YXRlIiwiVG9hc3RDb250YWluZXIiLCJpbml0aWFsaXplQXBwIiwiZ2V0QXV0aCIsIm9uQXV0aFN0YXRlQ2hhbmdlZCIsImZpcmViYXNlQ29uZmlnIiwiYXBpS2V5IiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX0ZJUkVCQVNFX0FQSV9LRVkiLCJhdXRoRG9tYWluIiwiTkVYVF9QVUJMSUNfRklSRUJBU0VfQVVUSF9ET01BSU4iLCJwcm9qZWN0SWQiLCJORVhUX1BVQkxJQ19GSVJFQkFTRV9QUk9KRUNUX0lEIiwic3RvcmFnZUJ1Y2tldCIsIk5FWFRfUFVCTElDX0ZJUkVCQVNFX1NUT1JBR0VfQlVDS0VUIiwibWVzc2FnaW5nU2VuZGVySWQiLCJORVhUX1BVQkxJQ19GSVJFQkFTRV9NRVNTQUdJTkdfU0VOREVSX0lEIiwiYXBwSWQiLCJORVhUX1BVQkxJQ19GSVJFQkFTRV9BUFBfSUQiLCJtZWFzdXJlbWVudElkIiwiTkVYVF9QVUJMSUNfRklSRUJBU0VfTUVBU1VSRU1FTlRfSUQiLCJhcHAiLCJhdXRoIiwiTXlBcHAiLCJDb21wb25lbnQiLCJwYWdlUHJvcHMiLCJ1c2VyIiwic2V0VXNlciIsImxvYWRpbmciLCJzZXRMb2FkaW5nIiwidW5zdWJzY3JpYmUiLCJwb3NpdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/pages/_app.js\n");

/***/ }),

/***/ "./src/pages/shared/[token].js":
/*!*************************************!*\
  !*** ./src/pages/shared/[token].js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ SharedFile)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/router */ \"./node_modules/next/router.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/link */ \"./node_modules/next/link.js\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _utils_supabaseStorage__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/supabaseStorage */ \"./src/utils/supabaseStorage.js\");\n\n\n\n\n // Using Supabase storage\nfunction SharedFile() {\n    const router = (0,next_router__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const { token } = router.query;\n    const [file, setFile] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [downloadStarted, setDownloadStarted] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [requiresPassword, setRequiresPassword] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [password, setPassword] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [passwordError, setPasswordError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const fetchFile = async (pwd = null)=>{\n        try {\n            setLoading(true);\n            setPasswordError(\"\");\n            const fileData = await (0,_utils_supabaseStorage__WEBPACK_IMPORTED_MODULE_4__.getSharedFile)(token, pwd);\n            if (!fileData) {\n                setError(\"This sharing link is invalid or has expired\");\n            } else if (fileData.requiresPassword) {\n                setRequiresPassword(true);\n            } else if (fileData.invalidPassword) {\n                setPasswordError(\"Incorrect password\");\n            } else if (fileData.limitReached) {\n                setError(\"Download limit reached for this file\");\n            } else {\n                setFile(fileData);\n                setRequiresPassword(false);\n            }\n        } catch (err) {\n            console.error(\"Error fetching shared file:\", err);\n            setError(\"Failed to load the shared file. Please try again later.\");\n        } finally{\n            setLoading(false);\n        }\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!token) return;\n        fetchFile();\n    }, [\n        token\n    ]);\n    const handlePasswordSubmit = (e)=>{\n        e.preventDefault();\n        if (!password.trim()) {\n            setPasswordError(\"Please enter a password\");\n            return;\n        }\n        fetchFile(password);\n    };\n    const handleDownload = async ()=>{\n        if (!file || !file.downloadURL) {\n            setError(\"Download link is not available\");\n            return;\n        }\n        // Track download and check limits\n        const trackResult = await (0,_utils_supabaseStorage__WEBPACK_IMPORTED_MODULE_4__.trackDownload)(token);\n        if (trackResult && trackResult.limitReached) {\n            setError(\"Download limit has been reached for this file\");\n            return;\n        }\n        if (!trackResult || !trackResult.success) {\n            setError(\"Unable to process download. Please try again.\");\n            return;\n        }\n        setDownloadStarted(true);\n        try {\n            // Fetch the file as blob\n            const response = await fetch(file.downloadURL);\n            if (!response.ok) throw new Error(\"Download failed\");\n            const blob = await response.blob();\n            // Create blob URL and download\n            const blobUrl = window.URL.createObjectURL(blob);\n            const link = document.createElement(\"a\");\n            link.href = blobUrl;\n            link.download = file.originalName;\n            document.body.appendChild(link);\n            link.click();\n            document.body.removeChild(link);\n            // Clean up blob URL\n            window.URL.revokeObjectURL(blobUrl);\n        } catch (error) {\n            console.error(\"Download error:\", error);\n            setError(\"Download failed. Please try again.\");\n            setDownloadStarted(false);\n        }\n    };\n    const handlePreview = ()=>{\n        if (!file || !file.downloadURL) {\n            setError(\"Preview link is not available\");\n            return;\n        }\n        // Open in new tab for preview (without download attribute)\n        window.open(file.downloadURL, \"_blank\");\n    };\n    const canPreview = (fileType)=>{\n        const previewableTypes = [\n            \"image/\",\n            \"text/\",\n            \"application/pdf\",\n            \"video/\",\n            \"audio/\",\n            \"application/json\"\n        ];\n        return previewableTypes.some((type)=>fileType.startsWith(type));\n    };\n    if (loading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            style: {\n                padding: \"20px\",\n                maxWidth: \"800px\",\n                margin: \"0 auto\",\n                textAlign: \"center\"\n            },\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                    children: \"Loading shared file...\"\n                }, void 0, false, {\n                    fileName: \"E:\\\\GitHub\\\\Scoial media platform\\\\Secure-file-sharing-application\\\\frontend\\\\src\\\\pages\\\\shared\\\\[token].js\",\n                    lineNumber: 124,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        marginTop: \"20px\"\n                    },\n                    children: \"Please wait while we retrieve the file information.\"\n                }, void 0, false, {\n                    fileName: \"E:\\\\GitHub\\\\Scoial media platform\\\\Secure-file-sharing-application\\\\frontend\\\\src\\\\pages\\\\shared\\\\[token].js\",\n                    lineNumber: 125,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"E:\\\\GitHub\\\\Scoial media platform\\\\Secure-file-sharing-application\\\\frontend\\\\src\\\\pages\\\\shared\\\\[token].js\",\n            lineNumber: 123,\n            columnNumber: 7\n        }, this);\n    }\n    if (requiresPassword) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            style: {\n                padding: \"20px\",\n                maxWidth: \"400px\",\n                margin: \"0 auto\",\n                textAlign: \"center\"\n            },\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    padding: \"30px\",\n                    border: \"1px solid #ddd\",\n                    borderRadius: \"8px\",\n                    backgroundColor: \"#f9f9f9\"\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                        children: \"\\uD83D\\uDD12 Password Required\"\n                    }, void 0, false, {\n                        fileName: \"E:\\\\GitHub\\\\Scoial media platform\\\\Secure-file-sharing-application\\\\frontend\\\\src\\\\pages\\\\shared\\\\[token].js\",\n                        lineNumber: 139,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        style: {\n                            marginBottom: \"20px\",\n                            color: \"#666\"\n                        },\n                        children: \"This file is password protected. Please enter the password to access it.\"\n                    }, void 0, false, {\n                        fileName: \"E:\\\\GitHub\\\\Scoial media platform\\\\Secure-file-sharing-application\\\\frontend\\\\src\\\\pages\\\\shared\\\\[token].js\",\n                        lineNumber: 140,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n                        onSubmit: handlePasswordSubmit,\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                type: \"password\",\n                                value: password,\n                                onChange: (e)=>setPassword(e.target.value),\n                                placeholder: \"Enter password\",\n                                style: {\n                                    width: \"100%\",\n                                    padding: \"10px\",\n                                    marginBottom: \"10px\",\n                                    border: \"1px solid #ddd\",\n                                    borderRadius: \"4px\",\n                                    fontSize: \"1rem\"\n                                },\n                                autoFocus: true\n                            }, void 0, false, {\n                                fileName: \"E:\\\\GitHub\\\\Scoial media platform\\\\Secure-file-sharing-application\\\\frontend\\\\src\\\\pages\\\\shared\\\\[token].js\",\n                                lineNumber: 145,\n                                columnNumber: 13\n                            }, this),\n                            passwordError && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    color: \"red\",\n                                    marginBottom: \"10px\",\n                                    fontSize: \"0.9rem\"\n                                },\n                                children: passwordError\n                            }, void 0, false, {\n                                fileName: \"E:\\\\GitHub\\\\Scoial media platform\\\\Secure-file-sharing-application\\\\frontend\\\\src\\\\pages\\\\shared\\\\[token].js\",\n                                lineNumber: 161,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                type: \"submit\",\n                                disabled: loading,\n                                style: {\n                                    width: \"100%\",\n                                    padding: \"10px\",\n                                    background: \"#4CAF50\",\n                                    color: \"white\",\n                                    border: \"none\",\n                                    borderRadius: \"4px\",\n                                    cursor: \"pointer\",\n                                    fontSize: \"1rem\"\n                                },\n                                children: loading ? \"Verifying...\" : \"Access File\"\n                            }, void 0, false, {\n                                fileName: \"E:\\\\GitHub\\\\Scoial media platform\\\\Secure-file-sharing-application\\\\frontend\\\\src\\\\pages\\\\shared\\\\[token].js\",\n                                lineNumber: 165,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"E:\\\\GitHub\\\\Scoial media platform\\\\Secure-file-sharing-application\\\\frontend\\\\src\\\\pages\\\\shared\\\\[token].js\",\n                        lineNumber: 144,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            marginTop: \"20px\"\n                        },\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_3___default()), {\n                            href: \"/\",\n                            style: {\n                                padding: \"8px 16px\",\n                                background: \"#0070f3\",\n                                color: \"white\",\n                                textDecoration: \"none\",\n                                borderRadius: \"4px\"\n                            },\n                            children: \"Back to Home\"\n                        }, void 0, false, {\n                            fileName: \"E:\\\\GitHub\\\\Scoial media platform\\\\Secure-file-sharing-application\\\\frontend\\\\src\\\\pages\\\\shared\\\\[token].js\",\n                            lineNumber: 184,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"E:\\\\GitHub\\\\Scoial media platform\\\\Secure-file-sharing-application\\\\frontend\\\\src\\\\pages\\\\shared\\\\[token].js\",\n                        lineNumber: 183,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"E:\\\\GitHub\\\\Scoial media platform\\\\Secure-file-sharing-application\\\\frontend\\\\src\\\\pages\\\\shared\\\\[token].js\",\n                lineNumber: 133,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"E:\\\\GitHub\\\\Scoial media platform\\\\Secure-file-sharing-application\\\\frontend\\\\src\\\\pages\\\\shared\\\\[token].js\",\n            lineNumber: 132,\n            columnNumber: 7\n        }, this);\n    }\n    if (error || !file) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            style: {\n                padding: \"20px\",\n                maxWidth: \"800px\",\n                margin: \"0 auto\",\n                textAlign: \"center\"\n            },\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                    children: \"Error\"\n                }, void 0, false, {\n                    fileName: \"E:\\\\GitHub\\\\Scoial media platform\\\\Secure-file-sharing-application\\\\frontend\\\\src\\\\pages\\\\shared\\\\[token].js\",\n                    lineNumber: 202,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        color: \"red\",\n                        marginTop: \"20px\"\n                    },\n                    children: error || \"File not found\"\n                }, void 0, false, {\n                    fileName: \"E:\\\\GitHub\\\\Scoial media platform\\\\Secure-file-sharing-application\\\\frontend\\\\src\\\\pages\\\\shared\\\\[token].js\",\n                    lineNumber: 203,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_3___default()), {\n                    href: \"/\",\n                    style: {\n                        display: \"inline-block\",\n                        marginTop: \"20px\",\n                        padding: \"8px 16px\",\n                        background: \"#0070f3\",\n                        color: \"white\",\n                        textDecoration: \"none\",\n                        borderRadius: \"4px\"\n                    },\n                    children: \"Back to Home\"\n                }, void 0, false, {\n                    fileName: \"E:\\\\GitHub\\\\Scoial media platform\\\\Secure-file-sharing-application\\\\frontend\\\\src\\\\pages\\\\shared\\\\[token].js\",\n                    lineNumber: 204,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"E:\\\\GitHub\\\\Scoial media platform\\\\Secure-file-sharing-application\\\\frontend\\\\src\\\\pages\\\\shared\\\\[token].js\",\n            lineNumber: 201,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            padding: \"20px\",\n            maxWidth: \"800px\",\n            margin: \"0 auto\"\n        },\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            style: {\n                padding: \"20px\",\n                border: \"1px solid #ddd\",\n                borderRadius: \"8px\",\n                backgroundColor: \"#f9f9f9\",\n                textAlign: \"center\"\n            },\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                    children: \"Shared File\"\n                }, void 0, false, {\n                    fileName: \"E:\\\\GitHub\\\\Scoial media platform\\\\Secure-file-sharing-application\\\\frontend\\\\src\\\\pages\\\\shared\\\\[token].js\",\n                    lineNumber: 228,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        padding: \"20px\",\n                        margin: \"20px 0\",\n                        backgroundColor: \"white\",\n                        borderRadius: \"8px\",\n                        boxShadow: \"0 2px 4px rgba(0,0,0,0.1)\"\n                    },\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                fontSize: \"1.2rem\",\n                                fontWeight: \"bold\",\n                                marginBottom: \"10px\"\n                            },\n                            children: file.originalName\n                        }, void 0, false, {\n                            fileName: \"E:\\\\GitHub\\\\Scoial media platform\\\\Secure-file-sharing-application\\\\frontend\\\\src\\\\pages\\\\shared\\\\[token].js\",\n                            lineNumber: 237,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                color: \"#666\",\n                                marginBottom: \"5px\"\n                            },\n                            children: [\n                                \"Type: \",\n                                file.originalType\n                            ]\n                        }, void 0, true, {\n                            fileName: \"E:\\\\GitHub\\\\Scoial media platform\\\\Secure-file-sharing-application\\\\frontend\\\\src\\\\pages\\\\shared\\\\[token].js\",\n                            lineNumber: 241,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                color: \"#666\",\n                                marginBottom: \"5px\"\n                            },\n                            children: [\n                                \"Size: \",\n                                formatFileSize(file.originalSize)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"E:\\\\GitHub\\\\Scoial media platform\\\\Secure-file-sharing-application\\\\frontend\\\\src\\\\pages\\\\shared\\\\[token].js\",\n                            lineNumber: 245,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                color: \"#666\",\n                                marginBottom: \"15px\"\n                            },\n                            children: file.ownerEmail && `Shared by: ${file.ownerEmail}`\n                        }, void 0, false, {\n                            fileName: \"E:\\\\GitHub\\\\Scoial media platform\\\\Secure-file-sharing-application\\\\frontend\\\\src\\\\pages\\\\shared\\\\[token].js\",\n                            lineNumber: 249,\n                            columnNumber: 11\n                        }, this),\n                        downloadStarted ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                color: \"green\",\n                                marginBottom: \"15px\"\n                            },\n                            children: [\n                                \"Download started! If it doesn't begin automatically,\",\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                    href: file.downloadURL,\n                                    download: file.originalName,\n                                    target: \"_blank\",\n                                    rel: \"noopener noreferrer\",\n                                    style: {\n                                        color: \"#0070f3\",\n                                        marginLeft: \"5px\"\n                                    },\n                                    children: \"click here\"\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\GitHub\\\\Scoial media platform\\\\Secure-file-sharing-application\\\\frontend\\\\src\\\\pages\\\\shared\\\\[token].js\",\n                                    lineNumber: 256,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"E:\\\\GitHub\\\\Scoial media platform\\\\Secure-file-sharing-application\\\\frontend\\\\src\\\\pages\\\\shared\\\\[token].js\",\n                            lineNumber: 254,\n                            columnNumber: 13\n                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                display: \"flex\",\n                                gap: \"10px\",\n                                justifyContent: \"center\"\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: handleDownload,\n                                    disabled: downloadStarted,\n                                    style: {\n                                        padding: \"10px 20px\",\n                                        background: downloadStarted ? \"#ccc\" : \"#4CAF50\",\n                                        color: \"white\",\n                                        border: \"none\",\n                                        borderRadius: \"4px\",\n                                        cursor: downloadStarted ? \"not-allowed\" : \"pointer\",\n                                        fontSize: \"1rem\"\n                                    },\n                                    children: downloadStarted ? \"Downloading...\" : \"\\uD83D\\uDCE5 Download\"\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\GitHub\\\\Scoial media platform\\\\Secure-file-sharing-application\\\\frontend\\\\src\\\\pages\\\\shared\\\\[token].js\",\n                                    lineNumber: 268,\n                                    columnNumber: 15\n                                }, this),\n                                canPreview(file.originalType) && file.sharingLink.allowPreview !== false && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: handlePreview,\n                                    style: {\n                                        padding: \"10px 20px\",\n                                        background: \"#2196F3\",\n                                        color: \"white\",\n                                        border: \"none\",\n                                        borderRadius: \"4px\",\n                                        cursor: \"pointer\",\n                                        fontSize: \"1rem\"\n                                    },\n                                    children: \"\\uD83D\\uDC41️ Preview\"\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\GitHub\\\\Scoial media platform\\\\Secure-file-sharing-application\\\\frontend\\\\src\\\\pages\\\\shared\\\\[token].js\",\n                                    lineNumber: 284,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"E:\\\\GitHub\\\\Scoial media platform\\\\Secure-file-sharing-application\\\\frontend\\\\src\\\\pages\\\\shared\\\\[token].js\",\n                            lineNumber: 267,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"E:\\\\GitHub\\\\Scoial media platform\\\\Secure-file-sharing-application\\\\frontend\\\\src\\\\pages\\\\shared\\\\[token].js\",\n                    lineNumber: 230,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        marginTop: \"20px\",\n                        fontSize: \"0.9rem\",\n                        color: \"#666\"\n                    },\n                    children: file.sharingLink.expiresAt ? `This link will expire on ${new Date(file.sharingLink.expiresAt).toLocaleString()}` : \"This link never expires\"\n                }, void 0, false, {\n                    fileName: \"E:\\\\GitHub\\\\Scoial media platform\\\\Secure-file-sharing-application\\\\frontend\\\\src\\\\pages\\\\shared\\\\[token].js\",\n                    lineNumber: 303,\n                    columnNumber: 9\n                }, this),\n                file.sharingLink.hasPassword && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        marginTop: \"10px\",\n                        fontSize: \"0.9rem\",\n                        color: \"#ff9800\"\n                    },\n                    children: \"\\uD83D\\uDD12 This file was password protected\"\n                }, void 0, false, {\n                    fileName: \"E:\\\\GitHub\\\\Scoial media platform\\\\Secure-file-sharing-application\\\\frontend\\\\src\\\\pages\\\\shared\\\\[token].js\",\n                    lineNumber: 311,\n                    columnNumber: 11\n                }, this),\n                file.sharingLink.maxDownloads && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        marginTop: \"10px\",\n                        fontSize: \"0.9rem\",\n                        color: \"#2196F3\"\n                    },\n                    children: [\n                        \"\\uD83D\\uDCCA Downloads: \",\n                        file.sharingLink.downloadCount || 0,\n                        \"/\",\n                        file.sharingLink.maxDownloads\n                    ]\n                }, void 0, true, {\n                    fileName: \"E:\\\\GitHub\\\\Scoial media platform\\\\Secure-file-sharing-application\\\\frontend\\\\src\\\\pages\\\\shared\\\\[token].js\",\n                    lineNumber: 317,\n                    columnNumber: 11\n                }, this),\n                file.sharingLink.allowPreview === false && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        marginTop: \"10px\",\n                        fontSize: \"0.9rem\",\n                        color: \"#666\"\n                    },\n                    children: \"\\uD83D\\uDEAB Preview disabled by owner\"\n                }, void 0, false, {\n                    fileName: \"E:\\\\GitHub\\\\Scoial media platform\\\\Secure-file-sharing-application\\\\frontend\\\\src\\\\pages\\\\shared\\\\[token].js\",\n                    lineNumber: 323,\n                    columnNumber: 11\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        marginTop: \"20px\",\n                        fontSize: \"0.9rem\",\n                        color: \"#666\",\n                        backgroundColor: \"#e6f7ff\",\n                        padding: \"8px\",\n                        borderRadius: \"4px\"\n                    },\n                    children: \"Files are stored securely in Supabase Storage\"\n                }, void 0, false, {\n                    fileName: \"E:\\\\GitHub\\\\Scoial media platform\\\\Secure-file-sharing-application\\\\frontend\\\\src\\\\pages\\\\shared\\\\[token].js\",\n                    lineNumber: 328,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        marginTop: \"30px\"\n                    },\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_3___default()), {\n                        href: \"/\",\n                        style: {\n                            padding: \"8px 16px\",\n                            background: \"#0070f3\",\n                            color: \"white\",\n                            textDecoration: \"none\",\n                            borderRadius: \"4px\"\n                        },\n                        children: \"Back to Home\"\n                    }, void 0, false, {\n                        fileName: \"E:\\\\GitHub\\\\Scoial media platform\\\\Secure-file-sharing-application\\\\frontend\\\\src\\\\pages\\\\shared\\\\[token].js\",\n                        lineNumber: 333,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"E:\\\\GitHub\\\\Scoial media platform\\\\Secure-file-sharing-application\\\\frontend\\\\src\\\\pages\\\\shared\\\\[token].js\",\n                    lineNumber: 332,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"E:\\\\GitHub\\\\Scoial media platform\\\\Secure-file-sharing-application\\\\frontend\\\\src\\\\pages\\\\shared\\\\[token].js\",\n            lineNumber: 221,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"E:\\\\GitHub\\\\Scoial media platform\\\\Secure-file-sharing-application\\\\frontend\\\\src\\\\pages\\\\shared\\\\[token].js\",\n        lineNumber: 220,\n        columnNumber: 5\n    }, this);\n}\nfunction formatFileSize(bytes) {\n    if (bytes === 0) return \"0 Bytes\";\n    const k = 1024;\n    const sizes = [\n        \"Bytes\",\n        \"KB\",\n        \"MB\",\n        \"GB\",\n        \"TB\"\n    ];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + \" \" + sizes[i];\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUtDLEtBQUssQ0FBQ0QsS0FBS0UsR0FBRyxDQUFDTixTQUFTSSxLQUFLRSxHQUFHLENBQUNMO0lBQ2hELE9BQU9NLFdBQVcsQ0FBQ1AsUUFBUUksS0FBS0ksR0FBRyxDQUFDUCxHQUFHRSxFQUFDLEVBQUdNLE9BQU8sQ0FBQyxNQUFNLE1BQU1QLEtBQUssQ0FBQ0MsRUFBRTtBQUN6RSIsInNvdXJjZXMiOlsid2VicGFjazovL3NlY3VyZS1maWxlLXNoYXJpbmctZnJvbnRlbmQvLi9zcmMvcGFnZXMvc2hhcmVkL1t0b2tlbl0uanM/MmRjYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSAnbmV4dC9yb3V0ZXInO1xuaW1wb3J0IExpbmsgZnJvbSAnbmV4dC9saW5rJztcbmltcG9ydCB7IGdldFNoYXJlZEZpbGUsIHRyYWNrRG93bmxvYWQgfSBmcm9tICcuLi8uLi91dGlscy9zdXBhYmFzZVN0b3JhZ2UnOyAvLyBVc2luZyBTdXBhYmFzZSBzdG9yYWdlXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFNoYXJlZEZpbGUoKSB7XG4gIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpO1xuICBjb25zdCB7IHRva2VuIH0gPSByb3V0ZXIucXVlcnk7XG4gIGNvbnN0IFtmaWxlLCBzZXRGaWxlXSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgY29uc3QgW2Rvd25sb2FkU3RhcnRlZCwgc2V0RG93bmxvYWRTdGFydGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3JlcXVpcmVzUGFzc3dvcmQsIHNldFJlcXVpcmVzUGFzc3dvcmRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbcGFzc3dvcmQsIHNldFBhc3N3b3JkXSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW3Bhc3N3b3JkRXJyb3IsIHNldFBhc3N3b3JkRXJyb3JdID0gdXNlU3RhdGUoJycpO1xuXG4gIGNvbnN0IGZldGNoRmlsZSA9IGFzeW5jIChwd2QgPSBudWxsKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgICBzZXRQYXNzd29yZEVycm9yKCcnKTtcbiAgICAgIGNvbnN0IGZpbGVEYXRhID0gYXdhaXQgZ2V0U2hhcmVkRmlsZSh0b2tlbiwgcHdkKTtcbiAgICAgIFxuICAgICAgaWYgKCFmaWxlRGF0YSkge1xuICAgICAgICBzZXRFcnJvcihcIlRoaXMgc2hhcmluZyBsaW5rIGlzIGludmFsaWQgb3IgaGFzIGV4cGlyZWRcIik7XG4gICAgICB9IGVsc2UgaWYgKGZpbGVEYXRhLnJlcXVpcmVzUGFzc3dvcmQpIHtcbiAgICAgICAgc2V0UmVxdWlyZXNQYXNzd29yZCh0cnVlKTtcbiAgICAgIH0gZWxzZSBpZiAoZmlsZURhdGEuaW52YWxpZFBhc3N3b3JkKSB7XG4gICAgICAgIHNldFBhc3N3b3JkRXJyb3IoJ0luY29ycmVjdCBwYXNzd29yZCcpO1xuICAgICAgfSBlbHNlIGlmIChmaWxlRGF0YS5saW1pdFJlYWNoZWQpIHtcbiAgICAgICAgc2V0RXJyb3IoJ0Rvd25sb2FkIGxpbWl0IHJlYWNoZWQgZm9yIHRoaXMgZmlsZScpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0RmlsZShmaWxlRGF0YSk7XG4gICAgICAgIHNldFJlcXVpcmVzUGFzc3dvcmQoZmFsc2UpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgc2hhcmVkIGZpbGU6JywgZXJyKTtcbiAgICAgIHNldEVycm9yKFwiRmFpbGVkIHRvIGxvYWQgdGhlIHNoYXJlZCBmaWxlLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLlwiKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCF0b2tlbikgcmV0dXJuO1xuICAgIGZldGNoRmlsZSgpO1xuICB9LCBbdG9rZW5dKTtcblxuICBjb25zdCBoYW5kbGVQYXNzd29yZFN1Ym1pdCA9IChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGlmICghcGFzc3dvcmQudHJpbSgpKSB7XG4gICAgICBzZXRQYXNzd29yZEVycm9yKCdQbGVhc2UgZW50ZXIgYSBwYXNzd29yZCcpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmZXRjaEZpbGUocGFzc3dvcmQpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZURvd25sb2FkID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICghZmlsZSB8fCAhZmlsZS5kb3dubG9hZFVSTCkge1xuICAgICAgc2V0RXJyb3IoXCJEb3dubG9hZCBsaW5rIGlzIG5vdCBhdmFpbGFibGVcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIC8vIFRyYWNrIGRvd25sb2FkIGFuZCBjaGVjayBsaW1pdHNcbiAgICBjb25zdCB0cmFja1Jlc3VsdCA9IGF3YWl0IHRyYWNrRG93bmxvYWQodG9rZW4pO1xuICAgIFxuICAgIGlmICh0cmFja1Jlc3VsdCAmJiB0cmFja1Jlc3VsdC5saW1pdFJlYWNoZWQpIHtcbiAgICAgIHNldEVycm9yKCdEb3dubG9hZCBsaW1pdCBoYXMgYmVlbiByZWFjaGVkIGZvciB0aGlzIGZpbGUnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgaWYgKCF0cmFja1Jlc3VsdCB8fCAhdHJhY2tSZXN1bHQuc3VjY2Vzcykge1xuICAgICAgc2V0RXJyb3IoJ1VuYWJsZSB0byBwcm9jZXNzIGRvd25sb2FkLiBQbGVhc2UgdHJ5IGFnYWluLicpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICBzZXREb3dubG9hZFN0YXJ0ZWQodHJ1ZSk7XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIC8vIEZldGNoIHRoZSBmaWxlIGFzIGJsb2JcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goZmlsZS5kb3dubG9hZFVSTCk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB0aHJvdyBuZXcgRXJyb3IoJ0Rvd25sb2FkIGZhaWxlZCcpO1xuICAgICAgXG4gICAgICBjb25zdCBibG9iID0gYXdhaXQgcmVzcG9uc2UuYmxvYigpO1xuICAgICAgXG4gICAgICAvLyBDcmVhdGUgYmxvYiBVUkwgYW5kIGRvd25sb2FkXG4gICAgICBjb25zdCBibG9iVXJsID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG4gICAgICBjb25zdCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgbGluay5ocmVmID0gYmxvYlVybDtcbiAgICAgIGxpbmsuZG93bmxvYWQgPSBmaWxlLm9yaWdpbmFsTmFtZTtcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobGluayk7XG4gICAgICBsaW5rLmNsaWNrKCk7XG4gICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGxpbmspO1xuICAgICAgXG4gICAgICAvLyBDbGVhbiB1cCBibG9iIFVSTFxuICAgICAgd2luZG93LlVSTC5yZXZva2VPYmplY3RVUkwoYmxvYlVybCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Rvd25sb2FkIGVycm9yOicsIGVycm9yKTtcbiAgICAgIHNldEVycm9yKCdEb3dubG9hZCBmYWlsZWQuIFBsZWFzZSB0cnkgYWdhaW4uJyk7XG4gICAgICBzZXREb3dubG9hZFN0YXJ0ZWQoZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVQcmV2aWV3ID0gKCkgPT4ge1xuICAgIGlmICghZmlsZSB8fCAhZmlsZS5kb3dubG9hZFVSTCkge1xuICAgICAgc2V0RXJyb3IoXCJQcmV2aWV3IGxpbmsgaXMgbm90IGF2YWlsYWJsZVwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgLy8gT3BlbiBpbiBuZXcgdGFiIGZvciBwcmV2aWV3ICh3aXRob3V0IGRvd25sb2FkIGF0dHJpYnV0ZSlcbiAgICB3aW5kb3cub3BlbihmaWxlLmRvd25sb2FkVVJMLCAnX2JsYW5rJyk7XG4gIH07XG5cbiAgY29uc3QgY2FuUHJldmlldyA9IChmaWxlVHlwZSkgPT4ge1xuICAgIGNvbnN0IHByZXZpZXdhYmxlVHlwZXMgPSBbXG4gICAgICAnaW1hZ2UvJywgJ3RleHQvJywgJ2FwcGxpY2F0aW9uL3BkZicsIFxuICAgICAgJ3ZpZGVvLycsICdhdWRpby8nLCAnYXBwbGljYXRpb24vanNvbidcbiAgICBdO1xuICAgIHJldHVybiBwcmV2aWV3YWJsZVR5cGVzLnNvbWUodHlwZSA9PiBmaWxlVHlwZS5zdGFydHNXaXRoKHR5cGUpKTtcbiAgfTtcblxuICBpZiAobG9hZGluZykge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IHN0eWxlPXt7IHBhZGRpbmc6ICcyMHB4JywgbWF4V2lkdGg6ICc4MDBweCcsIG1hcmdpbjogJzAgYXV0bycsIHRleHRBbGlnbjogJ2NlbnRlcicgfX0+XG4gICAgICAgIDxoMT5Mb2FkaW5nIHNoYXJlZCBmaWxlLi4uPC9oMT5cbiAgICAgICAgPGRpdiBzdHlsZT17eyBtYXJnaW5Ub3A6ICcyMHB4JyB9fT5QbGVhc2Ugd2FpdCB3aGlsZSB3ZSByZXRyaWV2ZSB0aGUgZmlsZSBpbmZvcm1hdGlvbi48L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICBpZiAocmVxdWlyZXNQYXNzd29yZCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IHN0eWxlPXt7IHBhZGRpbmc6ICcyMHB4JywgbWF4V2lkdGg6ICc0MDBweCcsIG1hcmdpbjogJzAgYXV0bycsIHRleHRBbGlnbjogJ2NlbnRlcicgfX0+XG4gICAgICAgIDxkaXYgc3R5bGU9e3sgXG4gICAgICAgICAgcGFkZGluZzogJzMwcHgnLCBcbiAgICAgICAgICBib3JkZXI6ICcxcHggc29saWQgI2RkZCcsIFxuICAgICAgICAgIGJvcmRlclJhZGl1czogJzhweCcsXG4gICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnI2Y5ZjlmOSdcbiAgICAgICAgfX0+XG4gICAgICAgICAgPGgxPvCflJIgUGFzc3dvcmQgUmVxdWlyZWQ8L2gxPlxuICAgICAgICAgIDxwIHN0eWxlPXt7IG1hcmdpbkJvdHRvbTogJzIwcHgnLCBjb2xvcjogJyM2NjYnIH19PlxuICAgICAgICAgICAgVGhpcyBmaWxlIGlzIHBhc3N3b3JkIHByb3RlY3RlZC4gUGxlYXNlIGVudGVyIHRoZSBwYXNzd29yZCB0byBhY2Nlc3MgaXQuXG4gICAgICAgICAgPC9wPlxuICAgICAgICAgIFxuICAgICAgICAgIDxmb3JtIG9uU3VibWl0PXtoYW5kbGVQYXNzd29yZFN1Ym1pdH0+XG4gICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgdHlwZT1cInBhc3N3b3JkXCJcbiAgICAgICAgICAgICAgdmFsdWU9e3Bhc3N3b3JkfVxuICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFBhc3N3b3JkKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJFbnRlciBwYXNzd29yZFwiXG4gICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiAnMTBweCcsXG4gICAgICAgICAgICAgICAgbWFyZ2luQm90dG9tOiAnMTBweCcsXG4gICAgICAgICAgICAgICAgYm9yZGVyOiAnMXB4IHNvbGlkICNkZGQnLFxuICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzRweCcsXG4gICAgICAgICAgICAgICAgZm9udFNpemU6ICcxcmVtJ1xuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICBhdXRvRm9jdXNcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICB7cGFzc3dvcmRFcnJvciAmJiAoXG4gICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgY29sb3I6ICdyZWQnLCBtYXJnaW5Cb3R0b206ICcxMHB4JywgZm9udFNpemU6ICcwLjlyZW0nIH19PlxuICAgICAgICAgICAgICAgIHtwYXNzd29yZEVycm9yfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIHR5cGU9XCJzdWJtaXRcIlxuICAgICAgICAgICAgICBkaXNhYmxlZD17bG9hZGluZ31cbiAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICAgICAgICAgIHBhZGRpbmc6ICcxMHB4JyxcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAnIzRDQUY1MCcsXG4gICAgICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsXG4gICAgICAgICAgICAgICAgYm9yZGVyOiAnbm9uZScsXG4gICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNHB4JyxcbiAgICAgICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogJzFyZW0nXG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtsb2FkaW5nID8gJ1ZlcmlmeWluZy4uLicgOiAnQWNjZXNzIEZpbGUnfVxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPC9mb3JtPlxuICAgICAgICAgIFxuICAgICAgICAgIDxkaXYgc3R5bGU9e3sgbWFyZ2luVG9wOiAnMjBweCcgfX0+XG4gICAgICAgICAgICA8TGluayBocmVmPVwiL1wiIHN0eWxlPXt7IFxuICAgICAgICAgICAgICBwYWRkaW5nOiAnOHB4IDE2cHgnLCBcbiAgICAgICAgICAgICAgYmFja2dyb3VuZDogJyMwMDcwZjMnLCBcbiAgICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsIFxuICAgICAgICAgICAgICB0ZXh0RGVjb3JhdGlvbjogJ25vbmUnLCBcbiAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNHB4JyBcbiAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgICBCYWNrIHRvIEhvbWVcbiAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgaWYgKGVycm9yIHx8ICFmaWxlKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgc3R5bGU9e3sgcGFkZGluZzogJzIwcHgnLCBtYXhXaWR0aDogJzgwMHB4JywgbWFyZ2luOiAnMCBhdXRvJywgdGV4dEFsaWduOiAnY2VudGVyJyB9fT5cbiAgICAgICAgPGgxPkVycm9yPC9oMT5cbiAgICAgICAgPGRpdiBzdHlsZT17eyBjb2xvcjogJ3JlZCcsIG1hcmdpblRvcDogJzIwcHgnIH19PntlcnJvciB8fCBcIkZpbGUgbm90IGZvdW5kXCJ9PC9kaXY+XG4gICAgICAgIDxMaW5rIGhyZWY9XCIvXCIgc3R5bGU9e3sgXG4gICAgICAgICAgZGlzcGxheTogJ2lubGluZS1ibG9jaycsXG4gICAgICAgICAgbWFyZ2luVG9wOiAnMjBweCcsXG4gICAgICAgICAgcGFkZGluZzogJzhweCAxNnB4JywgXG4gICAgICAgICAgYmFja2dyb3VuZDogJyMwMDcwZjMnLCBcbiAgICAgICAgICBjb2xvcjogJ3doaXRlJywgXG4gICAgICAgICAgdGV4dERlY29yYXRpb246ICdub25lJywgXG4gICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNHB4JyBcbiAgICAgICAgfX0+XG4gICAgICAgICAgQmFjayB0byBIb21lXG4gICAgICAgIDwvTGluaz5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgc3R5bGU9e3sgcGFkZGluZzogJzIwcHgnLCBtYXhXaWR0aDogJzgwMHB4JywgbWFyZ2luOiAnMCBhdXRvJyB9fT5cbiAgICAgIDxkaXYgc3R5bGU9e3sgXG4gICAgICAgIHBhZGRpbmc6ICcyMHB4JywgXG4gICAgICAgIGJvcmRlcjogJzFweCBzb2xpZCAjZGRkJywgXG4gICAgICAgIGJvcmRlclJhZGl1czogJzhweCcsXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogJyNmOWY5ZjknLFxuICAgICAgICB0ZXh0QWxpZ246ICdjZW50ZXInXG4gICAgICB9fT5cbiAgICAgICAgPGgxPlNoYXJlZCBGaWxlPC9oMT5cbiAgICAgICAgXG4gICAgICAgIDxkaXYgc3R5bGU9e3sgXG4gICAgICAgICAgcGFkZGluZzogJzIwcHgnLFxuICAgICAgICAgIG1hcmdpbjogJzIwcHggMCcsXG4gICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnd2hpdGUnLFxuICAgICAgICAgIGJvcmRlclJhZGl1czogJzhweCcsXG4gICAgICAgICAgYm94U2hhZG93OiAnMCAycHggNHB4IHJnYmEoMCwwLDAsMC4xKSdcbiAgICAgICAgfX0+XG4gICAgICAgICAgPGRpdiBzdHlsZT17eyBmb250U2l6ZTogJzEuMnJlbScsIGZvbnRXZWlnaHQ6ICdib2xkJywgbWFyZ2luQm90dG9tOiAnMTBweCcgfX0+XG4gICAgICAgICAgICB7ZmlsZS5vcmlnaW5hbE5hbWV9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgXG4gICAgICAgICAgPGRpdiBzdHlsZT17eyBjb2xvcjogJyM2NjYnLCBtYXJnaW5Cb3R0b206ICc1cHgnIH19PlxuICAgICAgICAgICAgVHlwZToge2ZpbGUub3JpZ2luYWxUeXBlfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIFxuICAgICAgICAgIDxkaXYgc3R5bGU9e3sgY29sb3I6ICcjNjY2JywgbWFyZ2luQm90dG9tOiAnNXB4JyB9fT5cbiAgICAgICAgICAgIFNpemU6IHtmb3JtYXRGaWxlU2l6ZShmaWxlLm9yaWdpbmFsU2l6ZSl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgXG4gICAgICAgICAgPGRpdiBzdHlsZT17eyBjb2xvcjogJyM2NjYnLCBtYXJnaW5Cb3R0b206ICcxNXB4JyB9fT5cbiAgICAgICAgICAgIHtmaWxlLm93bmVyRW1haWwgJiYgYFNoYXJlZCBieTogJHtmaWxlLm93bmVyRW1haWx9YH1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICBcbiAgICAgICAgICB7ZG93bmxvYWRTdGFydGVkID8gKFxuICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBjb2xvcjogJ2dyZWVuJywgbWFyZ2luQm90dG9tOiAnMTVweCcgfX0+XG4gICAgICAgICAgICAgIERvd25sb2FkIHN0YXJ0ZWQhIElmIGl0IGRvZXNuJ3QgYmVnaW4gYXV0b21hdGljYWxseSwgXG4gICAgICAgICAgICAgIDxhIFxuICAgICAgICAgICAgICAgIGhyZWY9e2ZpbGUuZG93bmxvYWRVUkx9IFxuICAgICAgICAgICAgICAgIGRvd25sb2FkPXtmaWxlLm9yaWdpbmFsTmFtZX1cbiAgICAgICAgICAgICAgICB0YXJnZXQ9XCJfYmxhbmtcIlxuICAgICAgICAgICAgICAgIHJlbD1cIm5vb3BlbmVyIG5vcmVmZXJyZXJcIlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IGNvbG9yOiAnIzAwNzBmMycsIG1hcmdpbkxlZnQ6ICc1cHgnIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBjbGljayBoZXJlXG4gICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZ2FwOiAnMTBweCcsIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyB9fT5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZURvd25sb2FkfVxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXtkb3dubG9hZFN0YXJ0ZWR9XG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgXG4gICAgICAgICAgICAgICAgICBwYWRkaW5nOiAnMTBweCAyMHB4JywgXG4gICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBkb3dubG9hZFN0YXJ0ZWQgPyAnI2NjYycgOiAnIzRDQUY1MCcsIFxuICAgICAgICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsIFxuICAgICAgICAgICAgICAgICAgYm9yZGVyOiAnbm9uZScsIFxuICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNHB4JyxcbiAgICAgICAgICAgICAgICAgIGN1cnNvcjogZG93bmxvYWRTdGFydGVkID8gJ25vdC1hbGxvd2VkJyA6ICdwb2ludGVyJyxcbiAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMXJlbSdcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge2Rvd25sb2FkU3RhcnRlZCA/ICdEb3dubG9hZGluZy4uLicgOiAn8J+TpSBEb3dubG9hZCd9XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICB7Y2FuUHJldmlldyhmaWxlLm9yaWdpbmFsVHlwZSkgJiYgZmlsZS5zaGFyaW5nTGluay5hbGxvd1ByZXZpZXcgIT09IGZhbHNlICYmIChcbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVQcmV2aWV3fVxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgXG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6ICcxMHB4IDIwcHgnLCBcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogJyMyMTk2RjMnLCBcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsIFxuICAgICAgICAgICAgICAgICAgICBib3JkZXI6ICdub25lJywgXG4gICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzRweCcsXG4gICAgICAgICAgICAgICAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogJzFyZW0nXG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIPCfkYHvuI8gUHJldmlld1xuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIFxuICAgICAgICA8ZGl2IHN0eWxlPXt7IG1hcmdpblRvcDogJzIwcHgnLCBmb250U2l6ZTogJzAuOXJlbScsIGNvbG9yOiAnIzY2NicgfX0+XG4gICAgICAgICAge2ZpbGUuc2hhcmluZ0xpbmsuZXhwaXJlc0F0ID8gXG4gICAgICAgICAgICBgVGhpcyBsaW5rIHdpbGwgZXhwaXJlIG9uICR7bmV3IERhdGUoZmlsZS5zaGFyaW5nTGluay5leHBpcmVzQXQpLnRvTG9jYWxlU3RyaW5nKCl9YCA6XG4gICAgICAgICAgICAnVGhpcyBsaW5rIG5ldmVyIGV4cGlyZXMnXG4gICAgICAgICAgfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgXG4gICAgICAgIHtmaWxlLnNoYXJpbmdMaW5rLmhhc1Bhc3N3b3JkICYmIChcbiAgICAgICAgICA8ZGl2IHN0eWxlPXt7IG1hcmdpblRvcDogJzEwcHgnLCBmb250U2l6ZTogJzAuOXJlbScsIGNvbG9yOiAnI2ZmOTgwMCcgfX0+XG4gICAgICAgICAgICDwn5SSIFRoaXMgZmlsZSB3YXMgcGFzc3dvcmQgcHJvdGVjdGVkXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG4gICAgICAgIFxuICAgICAgICB7ZmlsZS5zaGFyaW5nTGluay5tYXhEb3dubG9hZHMgJiYgKFxuICAgICAgICAgIDxkaXYgc3R5bGU9e3sgbWFyZ2luVG9wOiAnMTBweCcsIGZvbnRTaXplOiAnMC45cmVtJywgY29sb3I6ICcjMjE5NkYzJyB9fT5cbiAgICAgICAgICAgIPCfk4ogRG93bmxvYWRzOiB7ZmlsZS5zaGFyaW5nTGluay5kb3dubG9hZENvdW50IHx8IDB9L3tmaWxlLnNoYXJpbmdMaW5rLm1heERvd25sb2Fkc31cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgICAgXG4gICAgICAgIHtmaWxlLnNoYXJpbmdMaW5rLmFsbG93UHJldmlldyA9PT0gZmFsc2UgJiYgKFxuICAgICAgICAgIDxkaXYgc3R5bGU9e3sgbWFyZ2luVG9wOiAnMTBweCcsIGZvbnRTaXplOiAnMC45cmVtJywgY29sb3I6ICcjNjY2JyB9fT5cbiAgICAgICAgICAgIPCfmqsgUHJldmlldyBkaXNhYmxlZCBieSBvd25lclxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgICBcbiAgICAgICAgPGRpdiBzdHlsZT17eyBtYXJnaW5Ub3A6ICcyMHB4JywgZm9udFNpemU6ICcwLjlyZW0nLCBjb2xvcjogJyM2NjYnLCBiYWNrZ3JvdW5kQ29sb3I6ICcjZTZmN2ZmJywgcGFkZGluZzogJzhweCcsIGJvcmRlclJhZGl1czogJzRweCcgfX0+XG4gICAgICAgICAgRmlsZXMgYXJlIHN0b3JlZCBzZWN1cmVseSBpbiBTdXBhYmFzZSBTdG9yYWdlXG4gICAgICAgIDwvZGl2PlxuICAgICAgICBcbiAgICAgICAgPGRpdiBzdHlsZT17eyBtYXJnaW5Ub3A6ICczMHB4JyB9fT5cbiAgICAgICAgICA8TGluayBocmVmPVwiL1wiIHN0eWxlPXt7IFxuICAgICAgICAgICAgcGFkZGluZzogJzhweCAxNnB4JywgXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiAnIzAwNzBmMycsIFxuICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsIFxuICAgICAgICAgICAgdGV4dERlY29yYXRpb246ICdub25lJywgXG4gICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc0cHgnIFxuICAgICAgICAgIH19PlxuICAgICAgICAgICAgQmFjayB0byBIb21lXG4gICAgICAgICAgPC9MaW5rPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5mdW5jdGlvbiBmb3JtYXRGaWxlU2l6ZShieXRlcykge1xuICBpZiAoYnl0ZXMgPT09IDApIHJldHVybiAnMCBCeXRlcyc7XG4gIGNvbnN0IGsgPSAxMDI0O1xuICBjb25zdCBzaXplcyA9IFsnQnl0ZXMnLCAnS0InLCAnTUInLCAnR0InLCAnVEInXTtcbiAgY29uc3QgaSA9IE1hdGguZmxvb3IoTWF0aC5sb2coYnl0ZXMpIC8gTWF0aC5sb2coaykpO1xuICByZXR1cm4gcGFyc2VGbG9hdCgoYnl0ZXMgLyBNYXRoLnBvdyhrLCBpKSkudG9GaXhlZCgyKSkgKyAnICcgKyBzaXplc1tpXTtcbn0iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VSb3V0ZXIiLCJMaW5rIiwiZ2V0U2hhcmVkRmlsZSIsInRyYWNrRG93bmxvYWQiLCJTaGFyZWRGaWxlIiwicm91dGVyIiwidG9rZW4iLCJxdWVyeSIsImZpbGUiLCJzZXRGaWxlIiwibG9hZGluZyIsInNldExvYWRpbmciLCJlcnJvciIsInNldEVycm9yIiwiZG93bmxvYWRTdGFydGVkIiwic2V0RG93bmxvYWRTdGFydGVkIiwicmVxdWlyZXNQYXNzd29yZCIsInNldFJlcXVpcmVzUGFzc3dvcmQiLCJwYXNzd29yZCIsInNldFBhc3N3b3JkIiwicGFzc3dvcmRFcnJvciIsInNldFBhc3N3b3JkRXJyb3IiLCJmZXRjaEZpbGUiLCJwd2QiLCJmaWxlRGF0YSIsImludmFsaWRQYXNzd29yZCIsImxpbWl0UmVhY2hlZCIsImVyciIsImNvbnNvbGUiLCJoYW5kbGVQYXNzd29yZFN1Ym1pdCIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInRyaW0iLCJoYW5kbGVEb3dubG9hZCIsImRvd25sb2FkVVJMIiwidHJhY2tSZXN1bHQiLCJzdWNjZXNzIiwicmVzcG9uc2UiLCJmZXRjaCIsIm9rIiwiRXJyb3IiLCJibG9iIiwiYmxvYlVybCIsIndpbmRvdyIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsImxpbmsiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJocmVmIiwiZG93bmxvYWQiLCJvcmlnaW5hbE5hbWUiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJjbGljayIsInJlbW92ZUNoaWxkIiwicmV2b2tlT2JqZWN0VVJMIiwiaGFuZGxlUHJldmlldyIsIm9wZW4iLCJjYW5QcmV2aWV3IiwiZmlsZVR5cGUiLCJwcmV2aWV3YWJsZVR5cGVzIiwic29tZSIsInR5cGUiLCJzdGFydHNXaXRoIiwiZGl2Iiwic3R5bGUiLCJwYWRkaW5nIiwibWF4V2lkdGgiLCJtYXJnaW4iLCJ0ZXh0QWxpZ24iLCJoMSIsIm1hcmdpblRvcCIsImJvcmRlciIsImJvcmRlclJhZGl1cyIsImJhY2tncm91bmRDb2xvciIsInAiLCJtYXJnaW5Cb3R0b20iLCJjb2xvciIsImZvcm0iLCJvblN1Ym1pdCIsImlucHV0IiwidmFsdWUiLCJvbkNoYW5nZSIsInRhcmdldCIsInBsYWNlaG9sZGVyIiwid2lkdGgiLCJmb250U2l6ZSIsImF1dG9Gb2N1cyIsImJ1dHRvbiIsImRpc2FibGVkIiwiYmFja2dyb3VuZCIsImN1cnNvciIsInRleHREZWNvcmF0aW9uIiwiZGlzcGxheSIsImJveFNoYWRvdyIsImZvbnRXZWlnaHQiLCJvcmlnaW5hbFR5cGUiLCJmb3JtYXRGaWxlU2l6ZSIsIm9yaWdpbmFsU2l6ZSIsIm93bmVyRW1haWwiLCJhIiwicmVsIiwibWFyZ2luTGVmdCIsImdhcCIsImp1c3RpZnlDb250ZW50Iiwib25DbGljayIsInNoYXJpbmdMaW5rIiwiYWxsb3dQcmV2aWV3IiwiZXhwaXJlc0F0IiwiRGF0ZSIsInRvTG9jYWxlU3RyaW5nIiwiaGFzUGFzc3dvcmQiLCJtYXhEb3dubG9hZHMiLCJkb3dubG9hZENvdW50IiwiYnl0ZXMiLCJrIiwic2l6ZXMiLCJpIiwiTWF0aCIsImZsb29yIiwibG9nIiwicGFyc2VGbG9hdCIsInBvdyIsInRvRml4ZWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/pages/shared/[token].js\n");

/***/ }),

/***/ "./src/utils/supabaseStorage.js":
/*!**************************************!*\
  !*** ./src/utils/supabaseStorage.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createSharingLink: () => (/* binding */ createSharingLink),\n/* harmony export */   deleteFile: () => (/* binding */ deleteFile),\n/* harmony export */   getFiles: () => (/* binding */ getFiles),\n/* harmony export */   getSharedFile: () => (/* binding */ getSharedFile),\n/* harmony export */   trackDownload: () => (/* binding */ trackDownload),\n/* harmony export */   uploadFile: () => (/* binding */ uploadFile),\n/* harmony export */   verifySharedFilePassword: () => (/* binding */ verifySharedFilePassword)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"@supabase/supabase-js\");\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__);\n\n// Initialize Supabase client\n// Replace these with your actual Supabase URL and anon key\nconst supabaseUrl = \"https://oicqumgrhpwgbaccqmqv.supabase.co\";\nconst supabaseKey = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9pY3F1bWdyaHB3Z2JhY2NxbXF2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTAxMzY1OTgsImV4cCI6MjA2NTcxMjU5OH0.HO4FBrseoog_fQTI3IpZc9O4XIqzRUii6cvPR_sdJN8\";\nconst supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseKey);\n// Upload file to Supabase Storage\nconst uploadFile = async (file, metadata, onProgress = ()=>{})=>{\n    try {\n        // Create a unique file ID\n        const fileId = Date.now().toString() + Math.random().toString(36).substring(2, 10);\n        const fileName = `${fileId}-${metadata.originalName}`;\n        // Start progress\n        onProgress(10);\n        // Upload to Supabase Storage\n        const { data, error } = await supabase.storage.from(\"files\").upload(fileName, file);\n        if (error) throw error;\n        // Update progress\n        onProgress(70);\n        // Get public URL\n        const { data: urlData } = supabase.storage.from(\"files\").getPublicUrl(fileName);\n        const downloadURL = urlData.publicUrl;\n        // Save metadata to Supabase database\n        const { data: fileData, error: dbError } = await supabase.from(\"file_metadata\").insert([\n            {\n                id: fileId,\n                original_name: metadata.originalName,\n                original_type: metadata.originalType,\n                original_size: metadata.originalSize,\n                download_url: downloadURL,\n                created_at: new Date().toISOString(),\n                owner_id: \"user123\",\n                owner_email: \"user@example.com\",\n                scan_result: metadata.scanResult || null\n            }\n        ]).select();\n        if (dbError) throw dbError;\n        onProgress(100);\n        return {\n            id: fileId,\n            originalName: metadata.originalName,\n            originalType: metadata.originalType,\n            originalSize: metadata.originalSize,\n            downloadURL,\n            createdAt: new Date().toISOString(),\n            ownerId: \"user123\",\n            ownerEmail: \"user@example.com\"\n        };\n    } catch (error) {\n        console.error(\"Upload error:\", error);\n        throw error;\n    }\n};\n// Get user's files\nconst getFiles = async ()=>{\n    try {\n        const { data, error } = await supabase.from(\"file_metadata\").select(\"*\").eq(\"owner_id\", \"user123\"); // Replace with actual user ID when auth is implemented\n        if (error) throw error;\n        return data.map((file)=>({\n                id: file.id,\n                originalName: file.original_name,\n                originalType: file.original_type,\n                originalSize: file.original_size,\n                downloadURL: file.download_url,\n                createdAt: file.created_at,\n                ownerId: file.owner_id,\n                ownerEmail: file.owner_email,\n                sharingLink: file.sharing_link\n            }));\n    } catch (error) {\n        console.error(\"Error getting files:\", error);\n        return [];\n    }\n};\n// Create sharing link\nconst createSharingLink = async (fileId, expirationDate = null, password = null, maxDownloads = null, allowPreview = true)=>{\n    try {\n        // Create sharing token\n        const token = `share-${fileId}-${Math.random().toString(36).substring(2, 10)}`;\n        // Set expiration - default to 1 day if not specified\n        let expiresAt = null;\n        if (expirationDate === null) {\n            // Never expire option\n            expiresAt = null;\n        } else if (expirationDate) {\n            expiresAt = expirationDate.toISOString();\n        } else {\n            // Default 1 day\n            const defaultExpiry = new Date();\n            defaultExpiry.setHours(defaultExpiry.getHours() + 24);\n            expiresAt = defaultExpiry.toISOString();\n        }\n        const sharingLink = {\n            token,\n            expiresAt,\n            hasPassword: !!password,\n            password: password ? btoa(password) : null,\n            maxDownloads,\n            downloadCount: 0,\n            allowPreview\n        };\n        // Update file with sharing link\n        const { error } = await supabase.from(\"file_metadata\").update({\n            sharing_link: sharingLink\n        }).eq(\"id\", fileId).eq(\"owner_id\", \"user123\"); // Replace with actual user ID when auth is implemented\n        if (error) throw error;\n        return sharingLink;\n    } catch (error) {\n        console.error(\"Error creating sharing link:\", error);\n        throw error;\n    }\n};\n// Delete file\nconst deleteFile = async (fileId)=>{\n    try {\n        // Get file metadata first to get the storage file name\n        const { data: fileData, error: fetchError } = await supabase.from(\"file_metadata\").select(\"*\").eq(\"id\", fileId).eq(\"owner_id\", \"user123\") // Replace with actual user ID when auth is implemented\n        .single();\n        if (fetchError) throw fetchError;\n        if (!fileData) throw new Error(\"File not found\");\n        // Extract filename from download URL or construct it\n        const fileName = `${fileId}-${fileData.original_name}`;\n        // Delete from Supabase Storage\n        const { error: storageError } = await supabase.storage.from(\"files\").remove([\n            fileName\n        ]);\n        if (storageError) {\n            console.warn(\"Storage deletion error:\", storageError);\n        // Continue with database deletion even if storage fails\n        }\n        // Delete from database\n        const { error: dbError } = await supabase.from(\"file_metadata\").delete().eq(\"id\", fileId).eq(\"owner_id\", \"user123\"); // Replace with actual user ID when auth is implemented\n        if (dbError) throw dbError;\n        return true;\n    } catch (error) {\n        console.error(\"Error deleting file:\", error);\n        throw error;\n    }\n};\n// Verify password for shared file\nconst verifySharedFilePassword = async (token, password)=>{\n    try {\n        if (!token) return false;\n        const fileId = token.split(\"-\")[1];\n        if (!fileId) return false;\n        const { data, error } = await supabase.from(\"file_metadata\").select(\"sharing_link\").eq(\"id\", fileId).single();\n        if (error || !data?.sharing_link) return false;\n        const storedPassword = data.sharing_link.password;\n        if (!storedPassword) return true; // No password required\n        return btoa(password) === storedPassword;\n    } catch (error) {\n        console.error(\"Error verifying password:\", error);\n        return false;\n    }\n};\n// Track download and check limits\nconst trackDownload = async (token)=>{\n    try {\n        if (!token) return false;\n        const fileId = token.split(\"-\")[1];\n        if (!fileId) return false;\n        const { data, error } = await supabase.from(\"file_metadata\").select(\"sharing_link\").eq(\"id\", fileId).single();\n        if (error || !data?.sharing_link) return false;\n        const sharingLink = data.sharing_link;\n        // Check if download limit reached\n        if (sharingLink.maxDownloads && sharingLink.downloadCount >= sharingLink.maxDownloads) {\n            return {\n                limitReached: true\n            };\n        }\n        // Increment download count\n        const newCount = (sharingLink.downloadCount || 0) + 1;\n        const updatedSharingLink = {\n            ...sharingLink,\n            downloadCount: newCount\n        };\n        const { error: updateError } = await supabase.from(\"file_metadata\").update({\n            sharing_link: updatedSharingLink\n        }).eq(\"id\", fileId);\n        if (updateError) {\n            console.error(\"Error updating download count:\", updateError);\n        }\n        return {\n            success: true,\n            downloadCount: newCount\n        };\n    } catch (error) {\n        console.error(\"Error tracking download:\", error);\n        return false;\n    }\n};\n// Get shared file by token\nconst getSharedFile = async (token, password = null)=>{\n    try {\n        if (!token) return null;\n        const fileId = token.split(\"-\")[1];\n        if (!fileId) return null;\n        // Find the file with this token\n        const { data, error } = await supabase.from(\"file_metadata\").select(\"*\").eq(\"id\", fileId);\n        if (error) throw error;\n        if (data.length === 0) return null;\n        const fileData = data[0];\n        // Verify the token and check expiration\n        if (!fileData.sharing_link || fileData.sharing_link.token !== token) {\n            return null;\n        }\n        // Check expiration only if expiresAt is set (not null for never expire)\n        if (fileData.sharing_link.expiresAt && new Date(fileData.sharing_link.expiresAt) < new Date()) {\n            return null;\n        }\n        // Check download limit\n        if (fileData.sharing_link.maxDownloads && fileData.sharing_link.downloadCount >= fileData.sharing_link.maxDownloads) {\n            return {\n                limitReached: true\n            };\n        }\n        // Check password if required\n        if (fileData.sharing_link.hasPassword) {\n            if (!password) {\n                return {\n                    requiresPassword: true\n                };\n            }\n            if (btoa(password) !== fileData.sharing_link.password) {\n                return {\n                    invalidPassword: true\n                };\n            }\n        }\n        return {\n            id: fileData.id,\n            originalName: fileData.original_name,\n            originalType: fileData.original_type,\n            originalSize: fileData.original_size,\n            downloadURL: fileData.download_url,\n            createdAt: fileData.created_at,\n            ownerId: fileData.owner_id,\n            ownerEmail: fileData.owner_email,\n            sharingLink: {\n                ...fileData.sharing_link,\n                password: undefined // Don't expose password\n            }\n        };\n    } catch (error) {\n        console.error(\"Error getting shared file:\", error);\n        return null;\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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OEJBQThCQTtRQUM1QyxPQUFPO0lBQ1Q7QUFDRixFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2VjdXJlLWZpbGUtc2hhcmluZy1mcm9udGVuZC8uL3NyYy91dGlscy9zdXBhYmFzZVN0b3JhZ2UuanM/OGM2YiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tICdAc3VwYWJhc2Uvc3VwYWJhc2UtanMnO1xuXG4vLyBJbml0aWFsaXplIFN1cGFiYXNlIGNsaWVudFxuLy8gUmVwbGFjZSB0aGVzZSB3aXRoIHlvdXIgYWN0dWFsIFN1cGFiYXNlIFVSTCBhbmQgYW5vbiBrZXlcbmNvbnN0IHN1cGFiYXNlVXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMO1xuY29uc3Qgc3VwYWJhc2VLZXkgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWTtcbmNvbnN0IHN1cGFiYXNlID0gY3JlYXRlQ2xpZW50KHN1cGFiYXNlVXJsLCBzdXBhYmFzZUtleSk7XG5cbi8vIFVwbG9hZCBmaWxlIHRvIFN1cGFiYXNlIFN0b3JhZ2VcbmV4cG9ydCBjb25zdCB1cGxvYWRGaWxlID0gYXN5bmMgKGZpbGUsIG1ldGFkYXRhLCBvblByb2dyZXNzID0gKCkgPT4ge30pID0+IHtcbiAgdHJ5IHtcbiAgICAvLyBDcmVhdGUgYSB1bmlxdWUgZmlsZSBJRFxuICAgIGNvbnN0IGZpbGVJZCA9IERhdGUubm93KCkudG9TdHJpbmcoKSArIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyLCAxMCk7XG4gICAgY29uc3QgZmlsZU5hbWUgPSBgJHtmaWxlSWR9LSR7bWV0YWRhdGEub3JpZ2luYWxOYW1lfWA7XG4gICAgXG4gICAgLy8gU3RhcnQgcHJvZ3Jlc3NcbiAgICBvblByb2dyZXNzKDEwKTtcbiAgICBcbiAgICAvLyBVcGxvYWQgdG8gU3VwYWJhc2UgU3RvcmFnZVxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLnN0b3JhZ2VcbiAgICAgIC5mcm9tKCdmaWxlcycpXG4gICAgICAudXBsb2FkKGZpbGVOYW1lLCBmaWxlKTtcbiAgICBcbiAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yO1xuICAgIFxuICAgIC8vIFVwZGF0ZSBwcm9ncmVzc1xuICAgIG9uUHJvZ3Jlc3MoNzApO1xuICAgIFxuICAgIC8vIEdldCBwdWJsaWMgVVJMXG4gICAgY29uc3QgeyBkYXRhOiB1cmxEYXRhIH0gPSBzdXBhYmFzZS5zdG9yYWdlXG4gICAgICAuZnJvbSgnZmlsZXMnKVxuICAgICAgLmdldFB1YmxpY1VybChmaWxlTmFtZSk7XG4gICAgXG4gICAgY29uc3QgZG93bmxvYWRVUkwgPSB1cmxEYXRhLnB1YmxpY1VybDtcbiAgICBcbiAgICAvLyBTYXZlIG1ldGFkYXRhIHRvIFN1cGFiYXNlIGRhdGFiYXNlXG4gICAgY29uc3QgeyBkYXRhOiBmaWxlRGF0YSwgZXJyb3I6IGRiRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnZmlsZV9tZXRhZGF0YScpXG4gICAgICAuaW5zZXJ0KFt7XG4gICAgICAgIGlkOiBmaWxlSWQsXG4gICAgICAgIG9yaWdpbmFsX25hbWU6IG1ldGFkYXRhLm9yaWdpbmFsTmFtZSxcbiAgICAgICAgb3JpZ2luYWxfdHlwZTogbWV0YWRhdGEub3JpZ2luYWxUeXBlLFxuICAgICAgICBvcmlnaW5hbF9zaXplOiBtZXRhZGF0YS5vcmlnaW5hbFNpemUsXG4gICAgICAgIGRvd25sb2FkX3VybDogZG93bmxvYWRVUkwsXG4gICAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgb3duZXJfaWQ6ICd1c2VyMTIzJywgLy8gUmVwbGFjZSB3aXRoIGFjdHVhbCB1c2VyIElEIHdoZW4gYXV0aCBpcyBpbXBsZW1lbnRlZFxuICAgICAgICBvd25lcl9lbWFpbDogJ3VzZXJAZXhhbXBsZS5jb20nLCAvLyBSZXBsYWNlIHdpdGggYWN0dWFsIHVzZXIgZW1haWxcbiAgICAgICAgc2Nhbl9yZXN1bHQ6IG1ldGFkYXRhLnNjYW5SZXN1bHQgfHwgbnVsbFxuICAgICAgfV0pXG4gICAgICAuc2VsZWN0KCk7XG4gICAgXG4gICAgaWYgKGRiRXJyb3IpIHRocm93IGRiRXJyb3I7XG4gICAgXG4gICAgb25Qcm9ncmVzcygxMDApO1xuICAgIFxuICAgIHJldHVybiB7IFxuICAgICAgaWQ6IGZpbGVJZCwgXG4gICAgICBvcmlnaW5hbE5hbWU6IG1ldGFkYXRhLm9yaWdpbmFsTmFtZSxcbiAgICAgIG9yaWdpbmFsVHlwZTogbWV0YWRhdGEub3JpZ2luYWxUeXBlLFxuICAgICAgb3JpZ2luYWxTaXplOiBtZXRhZGF0YS5vcmlnaW5hbFNpemUsXG4gICAgICBkb3dubG9hZFVSTCxcbiAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgb3duZXJJZDogJ3VzZXIxMjMnLFxuICAgICAgb3duZXJFbWFpbDogJ3VzZXJAZXhhbXBsZS5jb20nXG4gICAgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdVcGxvYWQgZXJyb3I6JywgZXJyb3IpO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59O1xuXG4vLyBHZXQgdXNlcidzIGZpbGVzXG5leHBvcnQgY29uc3QgZ2V0RmlsZXMgPSBhc3luYyAoKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdmaWxlX21ldGFkYXRhJylcbiAgICAgIC5zZWxlY3QoJyonKVxuICAgICAgLmVxKCdvd25lcl9pZCcsICd1c2VyMTIzJyk7IC8vIFJlcGxhY2Ugd2l0aCBhY3R1YWwgdXNlciBJRCB3aGVuIGF1dGggaXMgaW1wbGVtZW50ZWRcbiAgICBcbiAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yO1xuICAgIFxuICAgIHJldHVybiBkYXRhLm1hcChmaWxlID0+ICh7XG4gICAgICBpZDogZmlsZS5pZCxcbiAgICAgIG9yaWdpbmFsTmFtZTogZmlsZS5vcmlnaW5hbF9uYW1lLFxuICAgICAgb3JpZ2luYWxUeXBlOiBmaWxlLm9yaWdpbmFsX3R5cGUsXG4gICAgICBvcmlnaW5hbFNpemU6IGZpbGUub3JpZ2luYWxfc2l6ZSxcbiAgICAgIGRvd25sb2FkVVJMOiBmaWxlLmRvd25sb2FkX3VybCxcbiAgICAgIGNyZWF0ZWRBdDogZmlsZS5jcmVhdGVkX2F0LFxuICAgICAgb3duZXJJZDogZmlsZS5vd25lcl9pZCxcbiAgICAgIG93bmVyRW1haWw6IGZpbGUub3duZXJfZW1haWwsXG4gICAgICBzaGFyaW5nTGluazogZmlsZS5zaGFyaW5nX2xpbmtcbiAgICB9KSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyBmaWxlczonLCBlcnJvcik7XG4gICAgcmV0dXJuIFtdO1xuICB9XG59O1xuXG4vLyBDcmVhdGUgc2hhcmluZyBsaW5rXG5leHBvcnQgY29uc3QgY3JlYXRlU2hhcmluZ0xpbmsgPSBhc3luYyAoZmlsZUlkLCBleHBpcmF0aW9uRGF0ZSA9IG51bGwsIHBhc3N3b3JkID0gbnVsbCwgbWF4RG93bmxvYWRzID0gbnVsbCwgYWxsb3dQcmV2aWV3ID0gdHJ1ZSkgPT4ge1xuICB0cnkge1xuICAgIC8vIENyZWF0ZSBzaGFyaW5nIHRva2VuXG4gICAgY29uc3QgdG9rZW4gPSBgc2hhcmUtJHtmaWxlSWR9LSR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDIsIDEwKX1gO1xuICAgIFxuICAgIC8vIFNldCBleHBpcmF0aW9uIC0gZGVmYXVsdCB0byAxIGRheSBpZiBub3Qgc3BlY2lmaWVkXG4gICAgbGV0IGV4cGlyZXNBdCA9IG51bGw7XG4gICAgaWYgKGV4cGlyYXRpb25EYXRlID09PSBudWxsKSB7XG4gICAgICAvLyBOZXZlciBleHBpcmUgb3B0aW9uXG4gICAgICBleHBpcmVzQXQgPSBudWxsO1xuICAgIH0gZWxzZSBpZiAoZXhwaXJhdGlvbkRhdGUpIHtcbiAgICAgIGV4cGlyZXNBdCA9IGV4cGlyYXRpb25EYXRlLnRvSVNPU3RyaW5nKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIERlZmF1bHQgMSBkYXlcbiAgICAgIGNvbnN0IGRlZmF1bHRFeHBpcnkgPSBuZXcgRGF0ZSgpO1xuICAgICAgZGVmYXVsdEV4cGlyeS5zZXRIb3VycyhkZWZhdWx0RXhwaXJ5LmdldEhvdXJzKCkgKyAyNCk7XG4gICAgICBleHBpcmVzQXQgPSBkZWZhdWx0RXhwaXJ5LnRvSVNPU3RyaW5nKCk7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IHNoYXJpbmdMaW5rID0ge1xuICAgICAgdG9rZW4sXG4gICAgICBleHBpcmVzQXQsXG4gICAgICBoYXNQYXNzd29yZDogISFwYXNzd29yZCxcbiAgICAgIHBhc3N3b3JkOiBwYXNzd29yZCA/IGJ0b2EocGFzc3dvcmQpIDogbnVsbCwgLy8gU2ltcGxlIGJhc2U2NCBlbmNvZGluZ1xuICAgICAgbWF4RG93bmxvYWRzLFxuICAgICAgZG93bmxvYWRDb3VudDogMCxcbiAgICAgIGFsbG93UHJldmlld1xuICAgIH07XG4gICAgXG4gICAgLy8gVXBkYXRlIGZpbGUgd2l0aCBzaGFyaW5nIGxpbmtcbiAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ2ZpbGVfbWV0YWRhdGEnKVxuICAgICAgLnVwZGF0ZSh7IHNoYXJpbmdfbGluazogc2hhcmluZ0xpbmsgfSlcbiAgICAgIC5lcSgnaWQnLCBmaWxlSWQpXG4gICAgICAuZXEoJ293bmVyX2lkJywgJ3VzZXIxMjMnKTsgLy8gUmVwbGFjZSB3aXRoIGFjdHVhbCB1c2VyIElEIHdoZW4gYXV0aCBpcyBpbXBsZW1lbnRlZFxuICAgIFxuICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3I7XG4gICAgXG4gICAgcmV0dXJuIHNoYXJpbmdMaW5rO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNyZWF0aW5nIHNoYXJpbmcgbGluazonLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5cbi8vIERlbGV0ZSBmaWxlXG5leHBvcnQgY29uc3QgZGVsZXRlRmlsZSA9IGFzeW5jIChmaWxlSWQpID0+IHtcbiAgdHJ5IHtcbiAgICAvLyBHZXQgZmlsZSBtZXRhZGF0YSBmaXJzdCB0byBnZXQgdGhlIHN0b3JhZ2UgZmlsZSBuYW1lXG4gICAgY29uc3QgeyBkYXRhOiBmaWxlRGF0YSwgZXJyb3I6IGZldGNoRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnZmlsZV9tZXRhZGF0YScpXG4gICAgICAuc2VsZWN0KCcqJylcbiAgICAgIC5lcSgnaWQnLCBmaWxlSWQpXG4gICAgICAuZXEoJ293bmVyX2lkJywgJ3VzZXIxMjMnKSAvLyBSZXBsYWNlIHdpdGggYWN0dWFsIHVzZXIgSUQgd2hlbiBhdXRoIGlzIGltcGxlbWVudGVkXG4gICAgICAuc2luZ2xlKCk7XG4gICAgXG4gICAgaWYgKGZldGNoRXJyb3IpIHRocm93IGZldGNoRXJyb3I7XG4gICAgaWYgKCFmaWxlRGF0YSkgdGhyb3cgbmV3IEVycm9yKCdGaWxlIG5vdCBmb3VuZCcpO1xuICAgIFxuICAgIC8vIEV4dHJhY3QgZmlsZW5hbWUgZnJvbSBkb3dubG9hZCBVUkwgb3IgY29uc3RydWN0IGl0XG4gICAgY29uc3QgZmlsZU5hbWUgPSBgJHtmaWxlSWR9LSR7ZmlsZURhdGEub3JpZ2luYWxfbmFtZX1gO1xuICAgIFxuICAgIC8vIERlbGV0ZSBmcm9tIFN1cGFiYXNlIFN0b3JhZ2VcbiAgICBjb25zdCB7IGVycm9yOiBzdG9yYWdlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLnN0b3JhZ2VcbiAgICAgIC5mcm9tKCdmaWxlcycpXG4gICAgICAucmVtb3ZlKFtmaWxlTmFtZV0pO1xuICAgIFxuICAgIGlmIChzdG9yYWdlRXJyb3IpIHtcbiAgICAgIGNvbnNvbGUud2FybignU3RvcmFnZSBkZWxldGlvbiBlcnJvcjonLCBzdG9yYWdlRXJyb3IpO1xuICAgICAgLy8gQ29udGludWUgd2l0aCBkYXRhYmFzZSBkZWxldGlvbiBldmVuIGlmIHN0b3JhZ2UgZmFpbHNcbiAgICB9XG4gICAgXG4gICAgLy8gRGVsZXRlIGZyb20gZGF0YWJhc2VcbiAgICBjb25zdCB7IGVycm9yOiBkYkVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ2ZpbGVfbWV0YWRhdGEnKVxuICAgICAgLmRlbGV0ZSgpXG4gICAgICAuZXEoJ2lkJywgZmlsZUlkKVxuICAgICAgLmVxKCdvd25lcl9pZCcsICd1c2VyMTIzJyk7IC8vIFJlcGxhY2Ugd2l0aCBhY3R1YWwgdXNlciBJRCB3aGVuIGF1dGggaXMgaW1wbGVtZW50ZWRcbiAgICBcbiAgICBpZiAoZGJFcnJvcikgdGhyb3cgZGJFcnJvcjtcbiAgICBcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkZWxldGluZyBmaWxlOicsIGVycm9yKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcblxuLy8gVmVyaWZ5IHBhc3N3b3JkIGZvciBzaGFyZWQgZmlsZVxuZXhwb3J0IGNvbnN0IHZlcmlmeVNoYXJlZEZpbGVQYXNzd29yZCA9IGFzeW5jICh0b2tlbiwgcGFzc3dvcmQpID0+IHtcbiAgdHJ5IHtcbiAgICBpZiAoIXRva2VuKSByZXR1cm4gZmFsc2U7XG4gICAgXG4gICAgY29uc3QgZmlsZUlkID0gdG9rZW4uc3BsaXQoJy0nKVsxXTtcbiAgICBpZiAoIWZpbGVJZCkgcmV0dXJuIGZhbHNlO1xuICAgIFxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnZmlsZV9tZXRhZGF0YScpXG4gICAgICAuc2VsZWN0KCdzaGFyaW5nX2xpbmsnKVxuICAgICAgLmVxKCdpZCcsIGZpbGVJZClcbiAgICAgIC5zaW5nbGUoKTtcbiAgICBcbiAgICBpZiAoZXJyb3IgfHwgIWRhdGE/LnNoYXJpbmdfbGluaykgcmV0dXJuIGZhbHNlO1xuICAgIFxuICAgIGNvbnN0IHN0b3JlZFBhc3N3b3JkID0gZGF0YS5zaGFyaW5nX2xpbmsucGFzc3dvcmQ7XG4gICAgaWYgKCFzdG9yZWRQYXNzd29yZCkgcmV0dXJuIHRydWU7IC8vIE5vIHBhc3N3b3JkIHJlcXVpcmVkXG4gICAgXG4gICAgcmV0dXJuIGJ0b2EocGFzc3dvcmQpID09PSBzdG9yZWRQYXNzd29yZDtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciB2ZXJpZnlpbmcgcGFzc3dvcmQ6JywgZXJyb3IpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufTtcblxuLy8gVHJhY2sgZG93bmxvYWQgYW5kIGNoZWNrIGxpbWl0c1xuZXhwb3J0IGNvbnN0IHRyYWNrRG93bmxvYWQgPSBhc3luYyAodG9rZW4pID0+IHtcbiAgdHJ5IHtcbiAgICBpZiAoIXRva2VuKSByZXR1cm4gZmFsc2U7XG4gICAgXG4gICAgY29uc3QgZmlsZUlkID0gdG9rZW4uc3BsaXQoJy0nKVsxXTtcbiAgICBpZiAoIWZpbGVJZCkgcmV0dXJuIGZhbHNlO1xuICAgIFxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnZmlsZV9tZXRhZGF0YScpXG4gICAgICAuc2VsZWN0KCdzaGFyaW5nX2xpbmsnKVxuICAgICAgLmVxKCdpZCcsIGZpbGVJZClcbiAgICAgIC5zaW5nbGUoKTtcbiAgICBcbiAgICBpZiAoZXJyb3IgfHwgIWRhdGE/LnNoYXJpbmdfbGluaykgcmV0dXJuIGZhbHNlO1xuICAgIFxuICAgIGNvbnN0IHNoYXJpbmdMaW5rID0gZGF0YS5zaGFyaW5nX2xpbms7XG4gICAgXG4gICAgLy8gQ2hlY2sgaWYgZG93bmxvYWQgbGltaXQgcmVhY2hlZFxuICAgIGlmIChzaGFyaW5nTGluay5tYXhEb3dubG9hZHMgJiYgc2hhcmluZ0xpbmsuZG93bmxvYWRDb3VudCA+PSBzaGFyaW5nTGluay5tYXhEb3dubG9hZHMpIHtcbiAgICAgIHJldHVybiB7IGxpbWl0UmVhY2hlZDogdHJ1ZSB9O1xuICAgIH1cbiAgICBcbiAgICAvLyBJbmNyZW1lbnQgZG93bmxvYWQgY291bnRcbiAgICBjb25zdCBuZXdDb3VudCA9IChzaGFyaW5nTGluay5kb3dubG9hZENvdW50IHx8IDApICsgMTtcbiAgICBjb25zdCB1cGRhdGVkU2hhcmluZ0xpbmsgPSB7XG4gICAgICAuLi5zaGFyaW5nTGluayxcbiAgICAgIGRvd25sb2FkQ291bnQ6IG5ld0NvdW50XG4gICAgfTtcbiAgICBcbiAgICBjb25zdCB7IGVycm9yOiB1cGRhdGVFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdmaWxlX21ldGFkYXRhJylcbiAgICAgIC51cGRhdGUoeyBzaGFyaW5nX2xpbms6IHVwZGF0ZWRTaGFyaW5nTGluayB9KVxuICAgICAgLmVxKCdpZCcsIGZpbGVJZCk7XG4gICAgXG4gICAgaWYgKHVwZGF0ZUVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyBkb3dubG9hZCBjb3VudDonLCB1cGRhdGVFcnJvcik7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRvd25sb2FkQ291bnQ6IG5ld0NvdW50IH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgdHJhY2tpbmcgZG93bmxvYWQ6JywgZXJyb3IpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufTtcblxuLy8gR2V0IHNoYXJlZCBmaWxlIGJ5IHRva2VuXG5leHBvcnQgY29uc3QgZ2V0U2hhcmVkRmlsZSA9IGFzeW5jICh0b2tlbiwgcGFzc3dvcmQgPSBudWxsKSA9PiB7XG4gIHRyeSB7XG4gICAgaWYgKCF0b2tlbikgcmV0dXJuIG51bGw7XG4gICAgXG4gICAgY29uc3QgZmlsZUlkID0gdG9rZW4uc3BsaXQoJy0nKVsxXTtcbiAgICBpZiAoIWZpbGVJZCkgcmV0dXJuIG51bGw7XG4gICAgXG4gICAgLy8gRmluZCB0aGUgZmlsZSB3aXRoIHRoaXMgdG9rZW5cbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ2ZpbGVfbWV0YWRhdGEnKVxuICAgICAgLnNlbGVjdCgnKicpXG4gICAgICAuZXEoJ2lkJywgZmlsZUlkKTtcbiAgICBcbiAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yO1xuICAgIGlmIChkYXRhLmxlbmd0aCA9PT0gMCkgcmV0dXJuIG51bGw7XG4gICAgXG4gICAgY29uc3QgZmlsZURhdGEgPSBkYXRhWzBdO1xuICAgIFxuICAgIC8vIFZlcmlmeSB0aGUgdG9rZW4gYW5kIGNoZWNrIGV4cGlyYXRpb25cbiAgICBpZiAoIWZpbGVEYXRhLnNoYXJpbmdfbGluayB8fCBmaWxlRGF0YS5zaGFyaW5nX2xpbmsudG9rZW4gIT09IHRva2VuKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgXG4gICAgLy8gQ2hlY2sgZXhwaXJhdGlvbiBvbmx5IGlmIGV4cGlyZXNBdCBpcyBzZXQgKG5vdCBudWxsIGZvciBuZXZlciBleHBpcmUpXG4gICAgaWYgKGZpbGVEYXRhLnNoYXJpbmdfbGluay5leHBpcmVzQXQgJiYgbmV3IERhdGUoZmlsZURhdGEuc2hhcmluZ19saW5rLmV4cGlyZXNBdCkgPCBuZXcgRGF0ZSgpKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgXG4gICAgLy8gQ2hlY2sgZG93bmxvYWQgbGltaXRcbiAgICBpZiAoZmlsZURhdGEuc2hhcmluZ19saW5rLm1heERvd25sb2FkcyAmJiBcbiAgICAgICAgZmlsZURhdGEuc2hhcmluZ19saW5rLmRvd25sb2FkQ291bnQgPj0gZmlsZURhdGEuc2hhcmluZ19saW5rLm1heERvd25sb2Fkcykge1xuICAgICAgcmV0dXJuIHsgbGltaXRSZWFjaGVkOiB0cnVlIH07XG4gICAgfVxuICAgIFxuICAgIC8vIENoZWNrIHBhc3N3b3JkIGlmIHJlcXVpcmVkXG4gICAgaWYgKGZpbGVEYXRhLnNoYXJpbmdfbGluay5oYXNQYXNzd29yZCkge1xuICAgICAgaWYgKCFwYXNzd29yZCkge1xuICAgICAgICByZXR1cm4geyByZXF1aXJlc1Bhc3N3b3JkOiB0cnVlIH07XG4gICAgICB9XG4gICAgICBpZiAoYnRvYShwYXNzd29yZCkgIT09IGZpbGVEYXRhLnNoYXJpbmdfbGluay5wYXNzd29yZCkge1xuICAgICAgICByZXR1cm4geyBpbnZhbGlkUGFzc3dvcmQ6IHRydWUgfTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiBmaWxlRGF0YS5pZCxcbiAgICAgIG9yaWdpbmFsTmFtZTogZmlsZURhdGEub3JpZ2luYWxfbmFtZSxcbiAgICAgIG9yaWdpbmFsVHlwZTogZmlsZURhdGEub3JpZ2luYWxfdHlwZSxcbiAgICAgIG9yaWdpbmFsU2l6ZTogZmlsZURhdGEub3JpZ2luYWxfc2l6ZSxcbiAgICAgIGRvd25sb2FkVVJMOiBmaWxlRGF0YS5kb3dubG9hZF91cmwsXG4gICAgICBjcmVhdGVkQXQ6IGZpbGVEYXRhLmNyZWF0ZWRfYXQsXG4gICAgICBvd25lcklkOiBmaWxlRGF0YS5vd25lcl9pZCxcbiAgICAgIG93bmVyRW1haWw6IGZpbGVEYXRhLm93bmVyX2VtYWlsLFxuICAgICAgc2hhcmluZ0xpbms6IHtcbiAgICAgICAgLi4uZmlsZURhdGEuc2hhcmluZ19saW5rLFxuICAgICAgICBwYXNzd29yZDogdW5kZWZpbmVkIC8vIERvbid0IGV4cG9zZSBwYXNzd29yZFxuICAgICAgfVxuICAgIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyBzaGFyZWQgZmlsZTonLCBlcnJvcik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn07Il0sIm5hbWVzIjpbImNyZWF0ZUNsaWVudCIsInN1cGFiYXNlVXJsIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCIsInN1cGFiYXNlS2V5IiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkiLCJzdXBhYmFzZSIsInVwbG9hZEZpbGUiLCJmaWxlIiwibWV0YWRhdGEiLCJvblByb2dyZXNzIiwiZmlsZUlkIiwiRGF0ZSIsIm5vdyIsInRvU3RyaW5nIiwiTWF0aCIsInJhbmRvbSIsInN1YnN0cmluZyIsImZpbGVOYW1lIiwib3JpZ2luYWxOYW1lIiwiZGF0YSIsImVycm9yIiwic3RvcmFnZSIsImZyb20iLCJ1cGxvYWQiLCJ1cmxEYXRhIiwiZ2V0UHVibGljVXJsIiwiZG93bmxvYWRVUkwiLCJwdWJsaWNVcmwiLCJmaWxlRGF0YSIsImRiRXJyb3IiLCJpbnNlcnQiLCJpZCIsIm9yaWdpbmFsX25hbWUiLCJvcmlnaW5hbF90eXBlIiwib3JpZ2luYWxUeXBlIiwib3JpZ2luYWxfc2l6ZSIsIm9yaWdpbmFsU2l6ZSIsImRvd25sb2FkX3VybCIsImNyZWF0ZWRfYXQiLCJ0b0lTT1N0cmluZyIsIm93bmVyX2lkIiwib3duZXJfZW1haWwiLCJzY2FuX3Jlc3VsdCIsInNjYW5SZXN1bHQiLCJzZWxlY3QiLCJjcmVhdGVkQXQiLCJvd25lcklkIiwib3duZXJFbWFpbCIsImNvbnNvbGUiLCJnZXRGaWxlcyIsImVxIiwibWFwIiwic2hhcmluZ0xpbmsiLCJzaGFyaW5nX2xpbmsiLCJjcmVhdGVTaGFyaW5nTGluayIsImV4cGlyYXRpb25EYXRlIiwicGFzc3dvcmQiLCJtYXhEb3dubG9hZHMiLCJhbGxvd1ByZXZpZXciLCJ0b2tlbiIsImV4cGlyZXNBdCIsImRlZmF1bHRFeHBpcnkiLCJzZXRIb3VycyIsImdldEhvdXJzIiwiaGFzUGFzc3dvcmQiLCJidG9hIiwiZG93bmxvYWRDb3VudCIsInVwZGF0ZSIsImRlbGV0ZUZpbGUiLCJmZXRjaEVycm9yIiwic2luZ2xlIiwiRXJyb3IiLCJzdG9yYWdlRXJyb3IiLCJyZW1vdmUiLCJ3YXJuIiwiZGVsZXRlIiwidmVyaWZ5U2hhcmVkRmlsZVBhc3N3b3JkIiwic3BsaXQiLCJzdG9yZWRQYXNzd29yZCIsInRyYWNrRG93bmxvYWQiLCJsaW1pdFJlYWNoZWQiLCJuZXdDb3VudCIsInVwZGF0ZWRTaGFyaW5nTGluayIsInVwZGF0ZUVycm9yIiwic3VjY2VzcyIsImdldFNoYXJlZEZpbGUiLCJsZW5ndGgiLCJyZXF1aXJlc1Bhc3N3b3JkIiwiaW52YWxpZFBhc3N3b3JkIiwidW5kZWZpbmVkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/utils/supabaseStorage.js\n");

/***/ }),

/***/ "./src/styles/globals.css":
/*!********************************!*\
  !*** ./src/styles/globals.css ***!
  \********************************/
/***/ (() => {



/***/ }),

/***/ "@supabase/supabase-js":
/*!****************************************!*\
  !*** external "@supabase/supabase-js" ***!
  \****************************************/
/***/ ((module) => {

"use strict";
module.exports = require("@supabase/supabase-js");

/***/ }),

/***/ "next/dist/compiled/next-server/pages.runtime.dev.js":
/*!**********************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages.runtime.dev.js" ***!
  \**********************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/pages.runtime.dev.js");

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "react" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("react");

/***/ }),

/***/ "react-dom":
/*!****************************!*\
  !*** external "react-dom" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("react-dom");

/***/ }),

/***/ "react/jsx-dev-runtime":
/*!****************************************!*\
  !*** external "react/jsx-dev-runtime" ***!
  \****************************************/
/***/ ((module) => {

"use strict";
module.exports = require("react/jsx-dev-runtime");

/***/ }),

/***/ "firebase/app":
/*!*******************************!*\
  !*** external "firebase/app" ***!
  \*******************************/
/***/ ((module) => {

"use strict";
module.exports = import("firebase/app");;

/***/ }),

/***/ "firebase/auth":
/*!********************************!*\
  !*** external "firebase/auth" ***!
  \********************************/
/***/ ((module) => {

"use strict";
module.exports = import("firebase/auth");;

/***/ }),

/***/ "react-toastify":
/*!*********************************!*\
  !*** external "react-toastify" ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = import("react-toastify");;

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@swc","vendor-chunks/react-toastify"], () => (__webpack_exec__("./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2Fshared%2F%5Btoken%5D&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Cshared%5C%5Btoken%5D.js&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();